import{aX as oe,d as ie,e as V,w as re,r as k,f as ue,bC as ce,j as s,k as l,q as o,aF as v,l as d,bG as de,by as _e,x as h,s as y,t as S,be as m,m as O,n,v as $,I as q,bZ as P,bR as Q,bQ as pe,p as ve,bN as _,c1 as he,aV as me,aS as fe,_ as ye}from"./entry.a5ffe6b6.js";import be from"./IconButton.3d0339e3.js";import ge from"./card2.f9467506.js";import ke from"./card5.024dbc9d.js";import Se from"./SubMenu.a9a69091.js";import Pe from"./backBtn.6ed90b16.js";import Ce from"./card4.a5bfd41c.js";import xe from"./CtaButton.a5174d45.js";import{g as $e}from"./global.de8d543b.js";import{g as w,l as U}from"./locale.83ca1a04.js";import{g as T,a as L,b as we}from"./Contentful.13d3140f.js";import{u as Te}from"./useGlobalContent.a179bc4d.js";const W=oe({data:null}),Le=I=>(me("data-v-ff0c8349"),I=I(),fe(),I),Ie={class:"grid"},Me={class:"menu__inner xl:col-start-2 xl:col-span-6"},Ne={class:"search__btns"},Ee=["placeholder"],Oe=Le(()=>o("span",{class:"search__spacer p5"},"OR",-1)),Re={key:0,class:"search-results"},Ve=["onClick"],qe={key:0,class:"search-results__subtitle"},Be={key:1,class:"search-results__subtitle"},Ae={key:2,class:"search-results__inner"},Fe={class:"search-results__inner--featured"},je={class:"search-results__inner--items"},ze={class:"search-results__inner--featured"},De={class:"search-results__inner--items"},Ge={key:1,class:"search-results__none"},He={class:"search-results__none-inner"},Qe={class:"h5 xl:h3d"},Ue={class:"p2 p3d"},We={class:"inspired__title uppercase p5 xl:subtitle1"},Xe={class:"inspired__subtitle h2 xl:h2d"},Ze={key:0,class:"inspired__items"},Je=ie({__name:"MainMenu",async setup(I){let B,A;const i=V(()=>$e.content);[B,A]=re(()=>Te()),await B,A();function R(t){return t.fields.image?t.fields.image:t.fields.thumbnail?t.fields.thumbnail:t.sys.contentType.sys.id==="caseStudy"?i.caseHeroFallback.thumbnail:null}const X=k(0),b=k(!1),g=k(!1);function F(t){b.value=t,P.searchOpen=t}function M(t){g.value=t,P.inspiredOpen=t}let u=null;const Z=(t,a)=>{const r=_.utils.selector(t);u&&u.kill(),u=_.timeline({onComplete:()=>a()}).fromTo(r(".menu li"),{yPercent:400,opacity:0,transformOrigin:"0% 100%"},{yPercent:0,opacity:1,duration:1,ease:"quart.out",stagger:{amount:.3},delay:.5})},J=(t,a)=>{const r=_.utils.selector(t);u&&u.kill(),u=_.timeline({onComplete:()=>a()}).fromTo(r(".inspired__items .card"),{yPercent:30,opacity:0,transformOrigin:"0% 100%"},{yPercent:0,opacity:1,duration:1,ease:"quart.out",stagger:{amount:.3},delay:.5})},K=(t,a)=>{_.utils.selector(t),u&&u.kill(),u=_.timeline({onComplete:()=>{_.set(t,{clearProps:"clipPath"}),a()}}).fromTo(t,{clipPath:"inset(0 100% 100% 0 round 1.25rem)"},{clipPath:"inset(0 0% 0% 0 round 1.25rem)",duration:.7,ease:"quart.out"})},Y=(t,a)=>{_.utils.selector(t),u&&u.kill(),u=_.timeline({onComplete:()=>{_.set(t,{clearProps:"clipPath"}),a()}}).fromTo(t,{clipPath:"inset(0px 0% 0% 0px round 1.25rem)"},{clipPath:"inset(0px 100% 100% 0px round 1.25rem)",duration:.7,ease:"quart.out"})},N=k(""),C=k(!1),E=k("all"),j={all:{label:"All",items:[]},perspective:{label:"Perspectives",items:[]},caseStudy:{label:"Case Study",items:[]},service:{label:"Service",items:[]},sector:{label:"Sector",items:[]}},x=k(j);ue(N,t=>{if(C.value=t.length>0,t.length>0){const a=ee(t.toLowerCase());let r={all:{label:"All",items:a},perspective:{label:"Perspectives",items:[]},caseStudy:{label:"Case Study",items:[]},service:{label:"Service",items:[]},sector:{label:"Sector",items:[]}};a.forEach(f=>{f.sys.contentType.sys.id==="news"||f.sys.contentType.sys.id==="insight"?r.perspective.items.push(f):r[f.sys.contentType.sys.id].items.push(f)}),x.value=r}});const p=V(()=>{const[t,...a]=W.data.slice(0,9);return{featured:t,rest:a}}),c=V(()=>{const[t,...a]=x.value[E.value].items;return{active:x.value.all.items.length>0,featured:t,rest:a}}),ee=t=>W.data.filter(r=>r.fields.name?r.fields.name.toLowerCase().includes(t):r.fields.title?r.fields.title.toLowerCase().includes(t):!1),z=()=>{X.value=0,b.value=!1,g.value=!1,P.searchOpen=!1,P.inspiredOpen=!1,N.value="",C.value=!1,E.value="all",x.value=j},te=()=>{M(!1)};return ce(()=>{P.open||z()}),(t,a)=>{const r=he,f=be,D=ge,G=ke,se=Se,ae=Pe,le=Ce,ne=xe;return s(),l("div",{class:v({menu:!0,"menu--open":n(P).open&&!n(ve).inTransition,"menu--search":b.value}),"data-lenis-prevent":""},[o("div",Ie,[o("div",Me,[o("div",{class:v(["search",{"search--open":b.value,"search--hide":g.value}])},[o("div",Ne,[o("div",{class:"search__box",onClick:a[2]||(a[2]=e=>F(!0))},[d(r,{name:"search",outline:!0}),i.value.search?de((s(),l("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value=e),class:"search__box-input p2 xl:p3d",type:"search",placeholder:i.value.search.placeholder,onFocus:a[1]||(a[1]=e=>F(!0))},null,40,Ee)),[[_e,N.value]]):h("",!0)]),Oe,i.value.inspiredPanel?(s(),l("div",{key:0,class:v(["search__cta subtitle2",{"search__cta--hidden":g.value}]),onClick:a[3]||(a[3]=e=>M(!0))},[(s(!0),l(y,null,S(i.value.inspiredPanel.mainLabelLines,e=>(s(),l("span",null,m(e),1))),256)),d(r,{name:"arrow"})],2)):h("",!0)]),d(q,{css:!1,onEnter:K,onLeave:Y},{default:O(()=>[b.value?(s(),l("div",Re,[d(f,{class:"search__close",name:"close",theme:"white",onClick:z}),o("div",{ref:"searchTabs",class:v(["search-results__tabs",{"search-results__tabs--active":C.value&&c.value.active}])},[(s(!0),l(y,null,S(x.value,(e,H)=>(s(),l("button",{key:e,class:v(["search-results__tab subtitle1",{"search-results__tab--active":E.value===H}]),onClick:Ye=>E.value=H},m(e.label)+" ("+m(e.items.length)+") ",11,Ve))),128))],2),C.value?C.value&&c.value.featured?(s(),l("div",Be,m(i.value.search.titleResults),1)):h("",!0):(s(),l("div",qe,m(i.value.search.titleMostRecent),1)),C.value?(s(),l("div",{key:3,class:v(["search-results__inner",{empty:!c.value.featured}])},[c.value.featured?(s(),l(y,{key:0},[o("div",ze,[d(D,{type:"NuxtLink",to:t.localePath(`/${n(T)(c.value.featured)}/${c.value.featured.fields.id}`),title:c.value.featured.fields.title,subtitle:n(w)(c.value.featured.sys.contentType.sys.id),author:n(L)(c.value.featured),image:R(c.value.featured)},null,8,["to","title","subtitle","author","image"])]),o("div",De,[(s(!0),l(y,null,S(c.value.rest,e=>(s(),$(G,{class:"search-results__inner--item",key:e.sys.id,type:"NuxtLink",to:t.localePath(`/${n(T)(e)}/${e.fields.id}`),title:e.fields.title,subtitle:n(w)(e.sys.contentType.sys.id),author:n(L)(e),image:R(e)},null,8,["to","title","subtitle","author","image"]))),128))])],64)):(s(),l("div",Ge,[o("div",He,[o("h3",Qe,m(n(U).data.noSearchTitle),1),o("p",Ue,m(n(U).data.noSearchCopy),1)])]))],2)):(s(),l("div",Ae,[o("div",Fe,[d(D,{type:"NuxtLink",to:t.localePath(`/${n(T)(p.value.featured)}/${p.value.featured.fields.id}`),title:p.value.featured.fields.title,subtitle:n(w)(p.value.featured.sys.contentType.sys.id),author:n(L)(p.value.featured),image:p.value.featured.fields.image?p.value.featured.fields.image:p.value.featured.fields.thumbnail},null,8,["to","title","subtitle","author","image"])]),o("div",je,[(s(!0),l(y,null,S(p.value.rest,e=>(s(),$(G,{class:"search-results__inner--item",key:e.sys.id,type:"NuxtLink",to:t.localePath(`/${n(T)(e)}/${e.fields.id}`),title:e.fields.title,subtitle:n(w)(e.sys.contentType.sys.id),author:n(L)(e),image:R(e)},null,8,["to","title","subtitle","author","image"]))),128))])]))])):h("",!0)]),_:1})],2),d(q,{css:!1,onEnter:Z},{default:O(()=>[n(P).open?(s(),l("nav",{key:0,class:v({"hide-menu":b.value})},[o("ul",null,[(s(!0),l(y,null,S(i.value.menu,e=>(s(),l("li",{key:"main-item--"+e.label},[d(se,{item:e},null,8,["item"])]))),128))])],2)):h("",!0)]),_:1}),!b.value&&i.value.inspiredPanel?(s(),l("div",{key:0,class:v(["inspired",{"inspired--open":g.value}])},[n(Q).isMobile&&!n(Q).isLandscape?(s(),$(ae,{key:0,class:"back-btn col-start-2",onClick:te,label:i.value.inspiredPanel.backLabel,useHeaderStyle:!0},null,8,["label"])):h("",!0),d(f,{class:"inspired__close",name:"close","aria-label":"Close inspired panel",theme:"white",onClick:a[4]||(a[4]=e=>M(!1))}),o("h3",We,m(i.value.inspiredPanel.title),1),o("div",Xe,[d(n(pe),{document:i.value.inspiredPanel.subtitle},null,8,["document"])]),d(q,{css:!1,onEnter:J},{default:O(()=>[g.value?(s(),l("div",Ze,[(s(!0),l(y,null,S(i.value.inspiredPanel.items,e=>(s(),$(le,{key:e.sys.id,type:"NuxtLink",to:t.localePath(`/${n(T)(e)}/${e.fields.id}`),title:e.fields.title,subtitle:n(w)(e.sys.contentType.sys.id),author:n(L)(e),image:n(we)(e)},null,8,["to","title","subtitle","author","image"]))),128))])):h("",!0)]),_:1})],2)):h("",!0),i.value.inspiredPanel?(s(),$(ne,{key:1,class:v(["menu__cta",{"menu__cta--hidden":g.value}]),onClick:a[5]||(a[5]=e=>M(!0))},{default:O(()=>[(s(!0),l(y,null,S(i.value.inspiredPanel.mainLabelLines,e=>(s(),l("span",null,m(e),1))),256))]),_:1},8,["class"])):h("",!0)])])],2)}}});const Ke=ye(Je,[["__scopeId","data-v-ff0c8349"]]),_t=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));export{_t as M,Ke as _,W as s};
