import ce from"./ImageContentful.28e07224.js";import re from"./ScrollContinue.c68de9f2.js";import{_ as ue}from"./StickyLayer.vue.d25c71c2.js";import _e from"./LineByLine.6c421f8e.js";import{_ as de}from"./AppearOnScroll.vue.b2ad58ac.js";import{d as pe,bN as H,bW as me,w as K,u as fe,r as v,P as F,F as he,A as ge,g as ke,p as S,h as Y,i as ve,b as ye,c as we,j as a,k as c,l as p,m as h,q as u,n as e,v as x,x as T,a3 as M,be as m,bQ as P,bR as z,s as N,t as B,b2 as xe,aF as be,y as Ce,aE as Te,z as Le,c2 as Ae,c3 as De,bT as Se,c1 as Ne,_ as Ie}from"./entry.a5ffe6b6.js";import $e from"./card1.b54a2b04.js";import Ee from"./SearchFilters.0f88b710.js";import{g as V}from"./global.de8d543b.js";import{l as W}from"./locale.83ca1a04.js";import{g as j}from"./Contentful.13d3140f.js";import{D as He}from"./Delay.0741e482.js";import{u as Fe}from"./useGlobalContent.a179bc4d.js";import{u as Me}from"./usePageTheme.46e6342d.js";import"./SplitText.a8cce3cb.js";import"./IconButton.3d0339e3.js";import"./EntryLink.vue.b1ce39e8.js";function f(b){let _,r=b[0],g=1;for(;g<b.length;){const d=b[g],k=b[g+1];if(g+=2,(d==="optionalAccess"||d==="optionalCall")&&r==null)return;d==="access"||d==="optionalAccess"?(_=r,r=k(r)):(d==="call"||d==="optionalCall")&&(r=k((...y)=>r.call(_,...y)),_=void 0)}return r}const Pe={class:"work"},ze={class:"work__hero-bg"},Be=["src"],Ve={class:"work__section work__intro grid-m grid xl:padded"},We={class:"work__section work__content grid-m grid xl:padded"},je={class:"work__content-title h5 xl:p2d"},qe={class:"p3 xl:p3d"},Oe={class:"col-start-2 col-end-12 xl:col-start-10 xl:col-end-15"},Re={class:"p3 xl:p3d"},Ge={class:"col-start-2 col-span-10 xl:col-start-2 xl:col-span-14"},Ke={key:0,class:"search-title h5 xl:p2d"},Ye={key:1,class:"tags"},Qe=["onClick"],Ue={class:"uppercase p5 xl:p5d"},Je=["onMouseenter"],Xe={key:1,class:"no-result col-start-2 col-span-10 xl:col-span-16"},Ze={class:"h3 xl:h3d"},et={class:"p3 xl:p3d"},tt=pe({__name:"index",async setup(b){let _,r;H.registerPlugin(me),[_,r]=K(()=>Fe()),await _,r();const{locale:g}=fe(),d=v(!1),k=v(),y=v(),I=()=>{y.value=new IntersectionObserver(s=>{S.theme=s[0].intersectionRatio>0?F.Light:F.Dark},{threshold:0,rootMargin:"0px 0px -85% 0px"}),k.value&&y.value.observe(k.value)};Me({theme:F.Dark,footer:he.Internal,footerTheme:ge.Dark}),ke(()=>{J(),S.inTransition?Y.pageEnterCompleted.on(I):I(),t.value&&t.value.relatedItems&&(C.value=t.value.relatedItems)}),ve(()=>{O(!1),y.value&&y.value.disconnect(),Y.pageEnterCompleted.off(I)});function Q(s){return!s||!f([s,"optionalAccess",l=>l.length])?null:s.map(l=>l.fields.name).join(", ")}const{data:t}=([_,r]=K(async()=>ye("work",async s=>{try{const n=(await s.getEntries({content_type:"work","sys.id":"3g76IrjmiYIF6AnCHk7udO",include:3,locale:g.value})).items[0].fields;let A={id:n.id,title:n.title,metaDescription:n.metaDescription,bigTitle:n.bigTitle,image:n.image,video:n.video,contentTitle:n.contentTitle,leftColumn:n.leftColumn,rightColumn:n.rightColumn,relatedItems:[],cta:f([n,"access",i=>i.cta,"optionalAccess",i=>i.fields]),clientsCta:f([n,"access",i=>i.clientsCta,"optionalAccess",i=>i.fields])};const D=await s.getEntries({"sys.contentType.sys.id[in]":"caseStudy",locale:g.value,limit:1e3});return f([D,"optionalAccess",i=>i.items,"optionalAccess",i=>i.length])&&(A.relatedItems=D.items.filter(i=>i.fields.showInGlobal&&i.fields.showInGlobal===!0)),A}catch{Ce({message:"Work not found",statusCode:404,fatal:!0})}})),_=await _,r(),_),$=v(""),w=v([]),C=v(f([t,"access",s=>s.value,"optionalAccess",s=>s.items,"optionalAccess",s=>s.length])?t.value.items:[]);we({title:t.value.title+" - Hill & Knowlton"||"",meta:[{name:"description",content:t.value.metaDescription||""},{property:"og:title",content:t.value.title+" - Hill & Knowlton"||""},{property:"og:description",content:t.value.metaDescription||""},{name:"twitter:title",content:t.value.title+" - Hill & Knowlton"||""},{name:"twitter:description",content:t.value.metaDescription||""}]});const q=v(null);let L=[];const O=(s=!0)=>{L.forEach(l=>{f([l,"access",n=>n.scrollTrigger,"optionalAccess",n=>n.kill,"call",n=>n(s)]),l.kill()}),L=[]},U=async()=>{const s=H.timeline();await Te(),s.fromTo(".work__intro .h1 div",{yPercent:200,rotate:10,scaleY:2,transformOrigin:"left bottom"},{yPercent:0,rotate:0,scaleY:1,stagger:.15,duration:.85,ease:"quart.out"},0),L.push(s)},J=async()=>{O(),await He(500);const s=H.timeline({scrollTrigger:{trigger:q.value,start:"top 80%",end:"bottom 80%",toggleActions:"play reset resume reset",toggleClass:{targets:".search-filters",className:"active"}}});L.push(s)},X=s=>{C.value=s,S.lenis.scrollTo(k.value.querySelector(".work__posts"),{offset:z.windowHeight*.15*-1})},Z=s=>{$.value=s},ee=s=>{w.value=s},te=s=>{w.value=w.value.filter(l=>l!==s)},se=s=>{if(S.inTransition)return;const l=Le(s.fields.pageTheme);Ae(l)};return(s,l)=>{const n=ce,A=re,D=ue,i=_e,oe=de,ne=De,R=Se,ae=Ne,le=$e,ie=Ee;return a(),c("main",Pe,[p(D,{class:"work__hero"},{default:h(()=>[u("div",ze,[e(t).video?(a(),c("video",{key:0,class:"work__hero-bg-video",src:e(t).video.fields.file.url,autoplay:"",muted:"",loop:"",playsinline:""},null,8,Be)):(a(),x(n,{key:1,imgClassName:"work__hero-bg-image",src:e(t).image.fields.file.url,size:{width:1440,height:900},srcMobile:e(t).image.fields.file.url,sizeMobile:{width:375,height:334},alt:e(t).image.fields.description,lazy:!0},null,8,["src","srcMobile","alt"]))]),e(t).video?(a(),x(A,{key:0})):T("",!0)]),_:1}),u("div",{class:"work__sections",ref_key:"root",ref:k},[u("div",Ve,[p(oe,{onEnter:U,class:"col-start-2 col-end-12 xl:col-start-2 xl:col-end-16"},{default:h(()=>[p(i,{tag:"h1",animated:!1,class:"work__intro-title uppercase p4 xl:p3d"},{default:h(()=>[M(m(e(t).title),1)]),_:1}),p(i,{tag:"h2",animated:!1,class:"h1 xl:h1d"},{default:h(()=>[p(e(P),{document:e(t).bigTitle},null,8,["document"])]),_:1})]),_:1})]),u("div",We,[(a(),x(xe(e(z).isDesktop?"base-link":"div"),{type:e(t).cta.internalLink?"NuxtLink":"Link",to:e(t).cta.internalLink?`/${e(j)(e(t).cta.internalLink)}`:null,href:e(t).cta.link?e(t).cta.link:null,target:e(t).cta.internalLink?"_self":"_blank",class:"col-start-2 col-end-12 xl:col-start-2 xl:col-end-8",onMouseenter:l[0]||(l[0]=o=>d.value=!0),onMouseleave:l[1]||(l[1]=o=>d.value=!1)},{default:h(()=>[u("h3",je,m(e(t).contentTitle),1),u("div",qe,[p(e(P),{document:e(t).leftColumn},null,8,["document"])]),e(z).isDesktop?(a(),x(ne,{key:0,show:d.value,class:"work__cta-link large",theme:"dark-blue"},{default:h(()=>[(a(!0),c(N,null,B(e(t).cta.labelLines,o=>(a(),c("span",null,m(o),1))),256))]),_:1},8,["show"])):(a(),x(R,{key:1,to:e(t).cta.internalLink?`/${e(j)(e(t).cta.internalLink)}`:null,href:e(t).cta.link?e(t).cta.link:null,target:e(t).cta.internalLink?"_self":"_blank",class:"work__cta-link small",theme:"pink",type:e(t).cta.internalLink?"NuxtLink":"Link"},{default:h(()=>[M(m(e(t).cta.labelLines.join(" ")),1)]),_:1},8,["to","href","target","type"]))]),_:1},40,["type","to","href","target"])),u("div",Oe,[u("div",Re,[p(e(P),{document:e(t).rightColumn},null,8,["document"])]),p(R,{to:e(t).clientsCta.internalLink?`/${e(j)(e(t).clientsCta.internalLink)}`:null,href:e(t).clientsCta.link?e(t).clientsCta.link:null,target:e(t).clientsCta.internalLink?"_self":"_blank",class:"work__clients-link",theme:"blue",type:e(t).clientsCta.internalLink?"NuxtLink":"Link"},{default:h(()=>[M(m(e(t).clientsCta.label),1)]),_:1},8,["to","href","target","type"])])]),f([e,"call",o=>o(t),"access",o=>o.relatedItems,"optionalAccess",o=>o.length])?(a(),c("div",{key:0,class:"work__section work__posts grid-m grid xl:padded",ref_key:"contentWrapper",ref:q},[f([C,"access",o=>o.value,"optionalAccess",o=>o.length])>0?(a(),c(N,{key:0},[u("div",Ge,[$.value?(a(),c("h4",Ke,m(e(W).data.workSearchResults)+" “"+m($.value)+"”",1)):T("",!0),f([w,"access",o=>o.value,"optionalAccess",o=>o.length])>0?(a(),c("div",Ye,[(a(!0),c(N,null,B(w.value,o=>(a(),c("div",{class:"tag-item",onClick:G=>te(o),key:o.id},[p(ae,{name:"close",outline:!0}),u("span",Ue,m(o),1)],8,Qe))),128))])):T("",!0)]),(a(!0),c(N,null,B(C.value,(o,G)=>(a(),c("div",{key:o.sys.id,class:be(["work__post col-start-2 col-span-10 xl:col-span-7",{"xl:col-start-2":!(G%2)}]),onMouseenter:()=>se(o)},[e(V).content&&e(V).content.caseHeroFallback?(a(),x(le,{key:0,type:"NuxtLink",to:s.localePath(`/case/${o.fields.id}`),title:o.fields.title,subtitle:o.fields.client,"type-id":o.sys.contentType.sys.id,author:Q(o.fields.services),image:o.fields.image||e(V).content.caseHeroFallback.thumbnail,squarer:!0,tags:f([o,"access",E=>E.fields,"optionalAccess",E=>E.tags])},null,8,["to","title","subtitle","type-id","author","image","tags"])):T("",!0)],42,Je))),128))],64)):(a(),c("div",Xe,[u("h3",Ze,m(e(W).data.noSearchTitle),1),u("p",et,m(e(W).data.noSearchCopy),1)]))],512)):T("",!0)],512),p(ie,{"search-type":"work","search-list":C.value,"tags-list":w.value,onChange:X,onSearchName:Z,onTags:ee},null,8,["search-list","tags-list"])])}}});const vt=Ie(tt,[["__scopeId","data-v-bb839207"]]);export{vt as default};
