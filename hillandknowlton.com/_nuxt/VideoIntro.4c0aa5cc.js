import{d as I,r as n,g as N,bR as h,bN as p,aJ as O,j as v,k as _,x as T,q as B,l as H,m as X,a3 as Y,be as $,n as P,c3 as R,_ as U}from"./entry.a5ffe6b6.js";import{p as j,r as W}from"./scroll.91b2c5c9.js";import{p as b,s as q}from"./home.bd40bda0.js";import{l as z}from"./locale.83ca1a04.js";import{l as w}from"./Lerp.6636412c.js";const D=""+new URL("hk-intro.5c535b56.mp4",import.meta.url).href,F=""+new URL("hk-intro.fd2740d7.webm",import.meta.url).href;function u(l){let t,o=l[0],r=1;for(;r<l.length;){const s=l[r],d=l[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&o==null)return;s==="access"||s==="optionalAccess"?(t=o,o=d(o)):(s==="call"||s==="optionalCall")&&(o=d((...f)=>o.call(t,...f)),t=void 0)}return o}const J={key:0,class:"video-intro--layer"},G={key:0,src:D,type:'video/mp4; codecs="hvc1"',preload:"metadata"},K={key:1,src:F,type:"video/webm",preload:"metadata"},Q=I({__name:"VideoIntro",setup(l){const t=n(null),o=n(!1);N(()=>{j(),A(),c.value=!0,u([t,"access",e=>e.value,"optionalAccess",e=>e.addEventListener,"call",e=>e("timeupdate",r)]),h.isMobile?(c.value=!1,b(!0),g(),o.value=!0):(L(f.value),p.ticker.add(m))}),O(()=>{u([t,"access",e=>e.value,"optionalAccess",e=>e.removeEventListener,"call",e=>e("timeupdate",r)]),h.isMobile||p.ticker.remove(m)});const r=()=>{t.value.currentTime>=.25&&(o.value=!0),t.value.currentTime>=1.5&&g()},s=()=>{u([t,"access",e=>e.value,"optionalAccess",e=>e.readyState])===4&&(p.set(t.value,{objectFit:"cover"}),d())},d=()=>{c.value=!1,u([t,"access",e=>e.value,"optionalAccess",e=>e.play,"call",e=>e()]),b(!0),p.ticker.remove(m),u([t,"access",e=>e.value,"optionalAccess",e=>e.style,"access",e=>e.removeProperty,"call",e=>e("transform")])},f=n(null),y=n(.1),a={x:0,y:0,_x:0,_y:0},x=n(0),k=n(0),C=e=>{h.isMobile||(x.value=e.clientX-a._x,k.value=(e.clientY-a._y)*-1)},L=e=>{a._x=e.offsetLeft+Math.floor(e.offsetWidth/2),a._y=e.offsetTop+Math.floor(e.offsetHeight/2)},m=()=>{a.x=w(a.x,x.value,y.value),a.y=w(a.y,k.value,y.value);const e=a.x*.025,i=a.y*.025;t.value.style.transform=`translate3d(${e}px, ${i}px, 0) rotateX(${i*.01}deg) rotateY(${e*.01}deg)`},g=()=>{W(),q(!0)},c=n(!1),S=()=>{c.value=!0},V=()=>{c.value=!1},M=n(!1),A=()=>{const e=window.navigator.userAgent.toLowerCase(),i=e.indexOf("safari")!==-1&&!(e.indexOf("chrome")!==-1||e.indexOf("crios")!==-1);M.value=i};return(e,i)=>{const E=R;return v(),_("div",{class:"video-intro",onClick:s,onMousemove:C,onMouseenter:S,onMouseleave:V,ref_key:"root",ref:f},[o.value?T("",!0):(v(),_("div",J)),B("video",{muted:"",playsinline:"",ref_key:"video",ref:t},[M.value?(v(),_("source",G)):(v(),_("source",K))],512),H(E,{theme:"azure-blue",show:c.value},{default:X(()=>[Y($(P(z).data.globalEnter||"Enter"),1)]),_:1},8,["show"])],544)}}});const se=U(Q,[["__scopeId","data-v-f3745d1e"]]);export{se as default};
