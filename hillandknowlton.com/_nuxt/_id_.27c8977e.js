import F from"./NewsHero.eda1e9fd.js";import{_ as N}from"./StickyLayer.vue.d25c71c2.js";import O from"./TeamSection.aaf942fc.js";import V from"./NumberTitleParagraph.c7f08569.js";import H from"./TitleParagraphImage.910d72b0.js";import R from"./QuoteWithImage.d1a16889.js";import U from"./Quote.d4ab7302.js";import K from"./Images.c493a983.js";import G from"./EmbeddedVideo.ff04c2c6.js";import Q from"./AwardsList.2aee3c3e.js";import{d as j,u as W,w as q,r as L,P as C,F as Y,A as J,g as X,p as S,h as Z,i as k,a as ee,b as te,c as ie,j as n,k as y,l as b,m as ne,n as h,q as se,s as P,t as E,v as p,x as c,y as oe,_ as ae}from"./entry.a5ffe6b6.js";import{l as re}from"./locale.83ca1a04.js";import{n as le,g as me}from"./getReadingTime.820b5db6.js";import{u as pe}from"./useGlobalContent.a179bc4d.js";import{u as ce}from"./usePageTheme.46e6342d.js";import"./backBtn.6ed90b16.js";import"./ImageContentful.28e07224.js";import"./LineByLine.6c421f8e.js";import"./SplitText.a8cce3cb.js";import"./Delay.0741e482.js";import"./global.de8d543b.js";import"./SecondaryIconButton.f501442f.js";import"./InertiaPlugin.04320367.js";import"./TeamCard.e7dc115a.js";import"./MainPanel.8fc08879.js";import"./ProductPanel.efccdd41.js";import"./IconButton.3d0339e3.js";import"./MainPanelTabsNav.9c9f5824.js";import"./MainPanelTabsNavItem.1f25b0af.js";import"./PanelCopy.ced7894a.js";import"./PanelEmbedVideo.73c24324.js";import"./PanelImage.53de468d.js";import"./PanelTeamMember.150f29ad.js";import"./PanelRelated.62669752.js";import"./card4.a5bfd41c.js";import"./Contentful.13d3140f.js";import"./EntryLink.vue.b1ce39e8.js";import"./TeamMemberPanel.d5408c5e.js";import"./PanelPublications.7f5f7b00.js";import"./PanelPublicationsItem.c621f28c.js";import"./ActionCursor.d6a8aabd.js";import"./InterviewPanel.e178c1a5.js";import"./scroll.91b2c5c9.js";import"./client-only.a5fdf211.js";import"./rich-text-plain-text-renderer.es5.996a2dcf.js";import"./ImagesCarousel.f1497865.js";import"./ImageFullWidth.67ff072c.js";import"./ImagesDouble.0d3abfa0.js";import"./ImageNaturalWidth.b42cbccc.js";function M(f){let a,s=f[0],d=1;for(;d<f.length;){const r=f[d],u=f[d+1];if(d+=2,(r==="optionalAccess"||r==="optionalCall")&&s==null)return;r==="access"||r==="optionalAccess"?(a=s,s=u(s)):(r==="call"||r==="optionalCall")&&(s=u((...w)=>s.call(a,...w)),a=void 0)}return s}const de={class:"news"},ue=j({__name:"[id]",async setup(f){let a,s;const{locale:d}=W();[a,s]=q(()=>pe()),await a,s();const r=L(),u=L(),w=()=>{u.value=new IntersectionObserver(g=>{S.theme=g[0].intersectionRatio>0?C.Light:C.Dark},{threshold:0,rootMargin:"0px 0px -85% 0px"}),r.value&&u.value.observe(r.value)},$=()=>{w()};ce({theme:C.Dark,footer:Y.Internal,footerTheme:J.Dark}),X(()=>{S.inTransition?Z.pageEnterCompleted.on($):$()}),k(()=>{u.value&&u.value.disconnect()});const v=ee(),{data:i}=([a,s]=q(async()=>te(`news_${v.params.id}`,async g=>{try{const t=(await g.getEntries({content_type:"news","fields.id[in]":v.params.id,include:3,locale:d.value})).items[0].fields,_=new Date(t.publishedDate),D=_.getDate(),x=`${_.toLocaleString("default",{month:"long"})}, ${_.getDate()}${le(D)}, ${_.getFullYear()}`;let l={id:t.id,title:t.title,metaDescription:t.metaDescription,image:t.image,details:[{label:"date",content:x}],sections:t.sections,relatedItems:[],relatedTitle:M([t,"access",o=>o.sector,"optionalAccess",o=>o.fields,"access",o=>o.title])};t.author.sys.contentType.sys.id==="singleMultipleLocationOfficePage"||t.author.sys.contentType.sys.id==="singleSingleLocationOfficePage"?t.author.fields.id!=="h-and-k-global"&&l.details.push({label:"authorLabel",content:t.author.fields.name}):l.details.push({label:"authorLabel",content:t.author.fields.name}),t.service&&l.details.push({label:"service",content:t.service.fields.name}),t.sector&&l.details.push({label:"sector",content:t.sector.fields.title});try{if(t.sector){const o=await g.getEntries({"sys.contentType.sys.id[in]":"news,caseStudy,insight",links_to_entry:t.sector.sys.id,locale:d.value});if(M([o,"optionalAccess",m=>m.items,"access",m=>m.length])){const m=o.items.filter(A=>A.fields.id!==v.params.id);m.length&&(l.relatedItems=m)}}}catch(o){console.log("Problem fetching related data 7",o)}return l.details.push({label:"timeRemaining",content:me(l).toString()+(re.data.timeRemainingUnit||" ")}),l}catch(T){oe({message:"News not found",statusCode:404,fatal:!0}),console.log(T)}})),a=await a,s(),a);return ie({title:i.value.title+" - Hill & Knowlton"||"",meta:[{name:"description",content:i.value.metaDescription||""},{property:"og:image",content:i.value.image?`https:${i.value.image.fields.file.url}?w=1200&h=630`:`${{}.VUE_APP_DOMAIN}/meta.png`},{name:"twitter:image",content:i.value.image?`https:${i.value.image.fields.file.url}?w=1200&h=630`:`${{}.VUE_APP_DOMAIN}/meta.png`},{property:"og:title",content:i.value.title+" - Hill & Knowlton"||""},{property:"og:description",content:i.value.metaDescription||""},{name:"twitter:title",content:i.value.title+" - Hill & Knowlton"||""},{name:"twitter:description",content:i.value.metaDescription||""}]}),(g,T)=>{const t=F,_=N,D=O,x=V,l=H,o=R,m=U,A=K,z=G,B=Q;return n(),y("main",de,[b(_,{class:"news__intro"},{default:ne(()=>[b(t,{title:h(i).title,image:h(i).image,details:h(i).details},null,8,["title","image","details"])]),_:1}),se("div",{class:"news__sections",ref_key:"root",ref:r},[(n(!0),y(P,null,E(h(i).sections,I=>(n(),y("div",{class:"news__section",key:I.fields.sectionTitle},[(n(!0),y(P,null,E(I.fields.blocks,e=>(n(),y(P,{key:e.sys.id},[e.sys.contentType.sys.id==="blockTeamSection"?(n(),p(D,{key:0,title:e.fields.title,teamMembers:e.fields.teamMembers},null,8,["title","teamMembers"])):c("",!0),e.sys.contentType.sys.id==="numberTitleParagraph"?(n(),p(x,{key:1,title:e.fields.title,number:e.fields.number,content:e.fields.content,news:!0},null,8,["title","number","content"])):c("",!0),e.sys.contentType.sys.id==="blockTitleParagraphImage"?(n(),p(l,{key:2,title:e.fields.title,image:e.fields.image,imageCaption:e.fields.imageCaption,content:e.fields.content},null,8,["title","image","imageCaption","content"])):c("",!0),e.sys.contentType.sys.id==="blockQuoteWithImage"?(n(),p(o,{key:3,image:e.fields.image,quote:e.fields.quote,author:e.fields.name,position:e.fields.position},null,8,["image","quote","author","position"])):c("",!0),e.sys.contentType.sys.id==="blockQuote"?(n(),p(m,{key:4,quote:e.fields.quote,author:e.fields.name,position:e.fields.position,news:!0},null,8,["quote","author","position"])):c("",!0),e.sys.contentType.sys.id==="blockImages"?(n(),p(A,{key:5,type:e.fields.type},null,8,["type"])):c("",!0),e.sys.contentType.sys.id==="blockEmbeddedVideo"?(n(),p(z,{key:6,image:e.fields.thumbnail,url:e.fields.embedUrl},null,8,["image","url"])):c("",!0),e.sys.contentType.sys.id==="blockAwardsList"?(n(),p(B,{key:7,title:e.fields.title,"gold-title":e.fields.titleGoldAwards,"gold-list":e.fields.gold,"silver-title":e.fields.titleSilverAwards,"silver-list":e.fields.silver,"bronze-title":e.fields.titleBronzeAwards,"bronze-list":e.fields.bronze},null,8,["title","gold-title","gold-list","silver-title","silver-list","bronze-title","bronze-list"])):c("",!0)],64))),128))]))),128))],512)])}}});const mt=ae(ue,[["__scopeId","data-v-0a1f4173"]]);export{mt as default};
