import R from"./SecondaryIconButton.f501442f.js";import{d as V,bN as C,r as n,e as p,g as q,h as m,i as z,j as v,k as N,q as _,be as E,s as X,t as U,v as j,l as M,x as A,_ as F}from"./entry.a5ffe6b6.js";import{D as $,I as O}from"./InertiaPlugin.04320367.js";import T from"./ProductCard.b06a3b43.js";import"./MainPanel.8fc08879.js";import"./ProductPanel.efccdd41.js";import"./IconButton.3d0339e3.js";import"./MainPanelTabsNav.9c9f5824.js";import"./MainPanelTabsNavItem.1f25b0af.js";import"./PanelCopy.ced7894a.js";import"./PanelEmbedVideo.73c24324.js";import"./PanelImage.53de468d.js";import"./ImageContentful.28e07224.js";import"./PanelTeamMember.150f29ad.js";import"./PanelRelated.62669752.js";import"./card4.a5bfd41c.js";import"./locale.83ca1a04.js";import"./Contentful.13d3140f.js";import"./EntryLink.vue.b1ce39e8.js";import"./global.de8d543b.js";import"./TeamMemberPanel.d5408c5e.js";import"./PanelPublications.7f5f7b00.js";import"./PanelPublicationsItem.c621f28c.js";import"./ActionCursor.d6a8aabd.js";import"./InterviewPanel.e178c1a5.js";import"./scroll.91b2c5c9.js";import"./client-only.a5fdf211.js";import"./DrawSVGPlugin.1b609e71.js";const G={class:"products-section grid-m grid xl:padded",ref:"$el"},H={class:"products-section__title h5 xl:p2d"},J={key:0,class:"products-section__nav__container col-start-2 col-end-12 xl:col-start-2 xl:col-end-16"},K={class:"products-section__nav"},Q=V({__name:"ProductsSection",props:{title:{type:String},products:{type:Array,required:!0}},setup(f){const g=f;C.registerPlugin($,O);const h=n(1),P=e=>{e>h.value&&(h.value=e)},t=n(0),x=n(0),b=n(0),o=n(0);let c=null;const y=n(null),i=n(null),u=n(null),l=p(()=>{const e=(b.value-x.value)/o.value;return Math.ceil(e-.05)}),k=p(()=>Math.min(l.value*o.value,b.value-x.value)),I=p(()=>t.value>0),S=p(()=>t.value<l.value);q(()=>{r(),m.resize.on(r),m.pageEnterCompleted.on(r)}),z(()=>{m.resize.off(r),m.pageEnterCompleted.off(r)});function w(){c&&(c.kill(),c=null,i.value&&C.set(i.value,{clearProps:"all"}))}function D(){c=$.create(i.value,{bounds:{minX:-k.value,maxX:0},type:"x",edgeResistance:.9,inertia:!0,snap:e=>{const a=o.value,s=Math.max(Math.round(e/a)*a,-k.value);return t.value=Math.min(l.value,Math.max(0,Math.ceil(-s/a))),s}})[0],t.value=0}function B(e){const{length:a}=g.products;t.value+e===a||t.value+e===-1||(t.value+=e,C.to(i.value,{x:Math.max(t.value*-o.value,-k.value),duration:.7,ease:"quart.out"}))}function r(){w(),y.value&&u.value&&g.products&&(x.value=y.value.getBoundingClientRect().width,o.value=parseInt(u.value[0].$el.getBoundingClientRect().width)+parseInt(window.getComputedStyle(u.value[0].$el).getPropertyValue("margin-right")),b.value=o.value*g.products.length,l.value>0&&D())}function W(){B(-1)}function L(){B(1)}return(e,a)=>{const s=R;return v(),N("div",G,[_("div",{class:"products-section__container col-start-2 col-end-12 xl:col-start-2 xl:col-end-16",ref_key:"$container",ref:y},[_("h2",H,E(f.title),1),_("ul",{class:"products-section__list",ref_key:"$list",ref:i},[(v(!0),N(X,null,U(f.products,d=>(v(),j(T,{ref_for:!0,ref_key:"$cards",ref:u,id:d.fields.id,title:d.fields.title,description:d.fields.description,product:d,onUpdateTitleNbLine:P,titleNbLine:h.value},null,8,["id","title","description","product","titleNbLine"]))),256))],512),l.value>0?(v(),N("div",J,[_("div",K,[M(s,{name:"chevron",theme:"blue",disabled:!I.value,opacity:.5,onClick:W},null,8,["disabled"]),M(s,{name:"chevron",theme:"blue",disabled:!S.value,opacity:.5,flipX:!0,onClick:L},null,8,["disabled"])])])):A("",!0)],512)],512)}}});const Me=F(Q,[["__scopeId","data-v-69d271e5"]]);export{Me as default};
