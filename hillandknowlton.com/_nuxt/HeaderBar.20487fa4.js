import{d as F,bp as W,bN as B,bW as j,c4 as q,bO as G,e as u,w as J,u as U,bR as S,r as v,bZ as s,f as M,g as Z,p as i,h as L,i as K,bP as t,P as Q,j as _,k as d,q as n,l as b,m as X,n as a,aF as P,a3 as Y,x as C,be as y,s as ee,t as ae,bJ as se,c1 as oe,c0 as ne,aV as te,aS as re,_ as le}from"./entry.a5ffe6b6.js";import ie from"./MainMenuTrigger.eb2cb16d.js";import{u as ce}from"./composables.abc3615f.js";import{l as ue}from"./locale.83ca1a04.js";import{g as _e}from"./global.de8d543b.js";import{u as de}from"./useGlobalContent.a179bc4d.js";import"./IconButton.3d0339e3.js";import"./PrimaryButton.109fb532.js";function A(l){let p,r=l[0],g=1;for(;g<l.length;){const c=l[g],k=l[g+1];if(g+=2,(c==="optionalAccess"||c==="optionalCall")&&r==null)return;c==="access"||c==="optionalAccess"?(p=r,r=k(r)):(c==="call"||c==="optionalCall")&&(r=k((...w)=>r.call(p,...w)),p=void 0)}return r}const pe=l=>(te("data-v-01f9c5b8"),l=l(),re(),l),ge={class:"header_bar__inner"},he={key:0,class:"header_bar__item subtitle1"},me={class:"header_bar__item"},be={key:0,class:"header_bar__sub",id:"header_bar__sub"},fe={class:"header_bar__back-icon"},ve={class:"subtitle1"},ke={class:"header_bar__sub-title"},we={class:"p5 uppercase category"},Se={class:"p3"},Le={key:0,class:"header_bar__sections"},Pe=["href","onClick"],Ce=["progress"],ye=pe(()=>n("div",{class:"progress-item"},null,-1)),Te=[ye],xe=F({__name:"HeaderBar",async setup(l){let p,r;W(e=>({cc5b82a8:H.value})),B.registerPlugin(j);const g=q();G();const c=u(()=>_e.content);[p,r]=J(()=>de()),await p,r();function k(){t.showLanguagePanel?t.showLanguagePanel=!1:t.showLanguagePanel=!0}const{locale:w,locales:E}=U();ce();const z=u(()=>S.isMobile);u(()=>E.value.filter(e=>e.code!==w.value)),u(()=>E.value.map(e=>({id:e.code,name:e.name}))),v(w.value),v(s.sections);const T=v(A([s,"access",e=>e.sections,"access",e=>e[0],"optionalAccess",e=>e.id]));M(()=>s.activeSection,e=>{T.value=e.length>0?e:A([s,"access",o=>o.sections,"access",o=>o[0],"optionalAccess",o=>o.id])},{deep:!0});const R=e=>{T.value=e;const o=document.getElementById("header_bar"),h=document.getElementById(e);B.to(window,{duration:.6,scrollTo:{y:h.offsetTop-o.offsetHeight},ease:"power3.out"})},H=v(0);Z(()=>{i.lenis.on("scroll",e=>H.value=e.progress),L.pageEnter.on(f),L.resize.on(f)}),K(()=>{L.pageEnter.off(f),L.resize.off(f)});const $=u(()=>t.mode==="solid"||S.isMobile&&t.showLanguagePanel),I=u(()=>t.mode==="dark"||S.isMobile&&t.showLanguagePanel),N=u(()=>t.mode==="dark-menu"||S.isMobile&&t.showLanguagePanel),x=v(!1);M(()=>i.theme,e=>{x.value=e===Q.Light});const f=()=>{if(s.open&&!i.inTransition){const e=document.getElementsByClassName("search")[0];V(e.offsetLeft)}else V()};M(()=>[s.open,i.inTransition],()=>{f()});const V=e=>{if(z.value)return;const o=e?e-document.getElementsByClassName("logo__link")[0].offsetLeft:0;B.to(".logo__link",{duration:.5,x:o,ease:"power3.out"})};return(e,o)=>{const h=oe,D=ne,O=ie;return _(),d("header",{class:P(["header_bar",{"header_bar--open":a(s).open&&!a(i).inTransition,"header_bar--solid":!a(s).open&&$.value,"header_bar--mid":a(s).open&&(a(s).searchOpen||a(s).inspiredOpen),"header_bar--light":x.value&&!a(s).open,"header_bar--dark":I.value&&!a(s).open,"header_bar--dark-menu":N.value&&!a(s).open}]),id:"header_bar"},[n("div",ge,[b(D,{to:e.localePath("/"),class:"logo__link",onMouseenter:o[0]||(o[0]=()=>a(i).preventSpecialTransition=!0),onMouseleave:o[1]||(o[1]=()=>a(i).preventSpecialTransition=!1),"aria-label":"Link to homepage"},{default:X(()=>[b(h,{class:"logo",name:"logo"})]),_:1},8,["to"]),n("nav",null,[n("ul",null,[c.value.languagePanel.options.length>1?(_(),d("li",he,[n("button",{onClick:k,"aria-label":"Toggle language panel",class:P(["lang-button",{"lang-button":!0,"lang-button--open":a(t).showLanguagePanel&&!a(i).inTransition}])},[b(h,{class:"lang-button__icon",name:"language",outline:!0}),Y(),b(h,{class:P({"lang-button__arrow":!0,"lang-button__arrow--active":a(t).showLanguagePanel&&!a(i).inTransition}),name:"chevron-down"},null,8,["class"])],2)])):C("",!0),n("li",me,[b(O,{isLight:x.value||I.value||N.value},null,8,["isLight"])])])])]),!a(s).open&&a(s).showSub?(_(),d("div",be,[n("button",{onClick:o[2]||(o[2]=m=>a(g).back()),class:"header_bar__back"},[n("div",fe,[b(h,{name:"chevron"})]),n("span",ve,y(a(ue).data.back),1)]),n("div",ke,[n("span",we,y(a(s).label),1),n("span",Se,y(a(s).title),1)]),a(s).sections?(_(),d("nav",Le,[n("ul",null,[(_(!0),d(ee,null,ae(a(s).sections,m=>(_(),d("li",{key:m},[n("a",{href:"#"+m.id,class:P({"header_bar__section--active":T.value===m.id,header_bar__section:!0,p4:!0}),onClick:se(Be=>R(m.id),["prevent"])},y(m.title),11,Pe)]))),128))])])):C("",!0),a(s).showProgress?(_(),d("div",{key:1,class:"progress",progress:e.progress},Te,8,Ce)):C("",!0)])):C("",!0)],2)}}});const Re=le(xe,[["__scopeId","data-v-01f9c5b8"]]);export{Re as default};
