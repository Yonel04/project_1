import G from"./CaseHero.606d55a7.js";import{_ as Q}from"./StickyLayer.vue.d25c71c2.js";import Y from"./NumberTitleParagraph.c7f08569.js";import J from"./Images.c493a983.js";import W from"./Quote.d4ab7302.js";import X from"./Stats.e5455d73.js";import Z from"./EmbeddedVideo.ff04c2c6.js";import ee from"./ProductsSection.c285e660.js";import te from"./Embedded.25da71f5.js";import{d as se,w as B,u as ae,r as D,a as oe,b as ie,c as ne,e as g,f as re,o as le,p as _,g as ce,P as S,F as ue,h as pe,i as de,j as r,k as b,l as x,m as $,n as u,q as E,s as A,t as F,v,x as h,y as me,z as fe,A as T,_ as _e}from"./entry.a5ffe6b6.js";import{l as p}from"./locale.83ca1a04.js";import{u as ve}from"./useGlobalContent.a179bc4d.js";import"./backBtn.6ed90b16.js";import"./LineByLine.6c421f8e.js";import"./SplitText.a8cce3cb.js";import"./Delay.0741e482.js";import"./global.de8d543b.js";import"./ImageContentful.28e07224.js";import"./ActionCursor.d6a8aabd.js";import"./Contentful.13d3140f.js";import"./EntryLink.vue.b1ce39e8.js";import"./rich-text-plain-text-renderer.es5.996a2dcf.js";import"./ImagesCarousel.f1497865.js";import"./SecondaryIconButton.f501442f.js";import"./InertiaPlugin.04320367.js";import"./ImageFullWidth.67ff072c.js";import"./ImagesDouble.0d3abfa0.js";import"./ImageNaturalWidth.b42cbccc.js";import"./StatsNumber.70f6ce7e.js";import"./ProductCard.b06a3b43.js";import"./MainPanel.8fc08879.js";import"./ProductPanel.efccdd41.js";import"./IconButton.3d0339e3.js";import"./MainPanelTabsNav.9c9f5824.js";import"./MainPanelTabsNavItem.1f25b0af.js";import"./PanelCopy.ced7894a.js";import"./PanelEmbedVideo.73c24324.js";import"./PanelImage.53de468d.js";import"./PanelTeamMember.150f29ad.js";import"./PanelRelated.62669752.js";import"./card4.a5bfd41c.js";import"./TeamMemberPanel.d5408c5e.js";import"./PanelPublications.7f5f7b00.js";import"./PanelPublicationsItem.c621f28c.js";import"./InterviewPanel.e178c1a5.js";import"./scroll.91b2c5c9.js";import"./client-only.a5fdf211.js";import"./DrawSVGPlugin.1b609e71.js";function H(y){let l,n=y[0],m=1;for(;m<y.length;){const c=y[m],f=y[m+1];if(m+=2,(c==="optionalAccess"||c==="optionalCall")&&n==null)return;c==="access"||c==="optionalAccess"?(l=n,n=f(n)):(c==="call"||c==="optionalCall")&&(n=f((...e)=>n.call(l,...e)),l=void 0)}return n}const he={class:"case"},ye={class:"case__section"},ge=se({__name:"[id]",async setup(y){let l,n;[l,n]=B(()=>ve()),await l,n();const{locale:m}=ae(),c=D(!1),f=oe(),{data:e}=([l,n]=B(async()=>ie(`caseStudy_${f.params.id}`,async o=>{try{const s=(await o.getEntries({content_type:"caseStudy","fields.id[in]":f.params.id,include:6,locale:m.value})).items[0].fields;return{id:s.id,typeLabel:p.data.caseStudy,title:s.title,metaDescription:s.metaDescription,pageTheme:s.pageTheme,client:s.client,image:s.image,description:s.description,date:s.date,offices:s.offices,services:s.services,sectors:s.sectors,products:s.products,capabilities:s.capabilities,awards:s.awards,sections:s.sections,footerTitle:s.footerTitle,associatedCaseStudies:s.associatedCaseStudies}}catch(a){console.log("Case Study not found",a),me({message:`Case Study not found: ${f.params.id}`,statusCode:404,fatal:!0})}})),l=await l,n(),l);ne({title:e.value.title+" - Hill & Knowlton",meta:[{name:"description",content:e.value.metaDescription||""},{property:"og:image",content:e.value.image?`https:${e.value.image.fields.file.url}?w=1200&h=630`:`${{}.VUE_APP_DOMAIN}/meta.png`},{name:"twitter:image",content:e.value.image?`https:${e.value.image.fields.file.url}?w=1200&h=630`:`${{}.VUE_APP_DOMAIN}/meta.png`},{property:"og:title",content:e.value.title+" - Hill & Knowlton"||""},{property:"og:description",content:e.value.metaDescription||""},{name:"twitter:title",content:e.value.title+" - Hill & Knowlton"||""},{name:"twitter:description",content:e.value.metaDescription||""}]});const C=D(),w=D(),d=g(()=>fe(e.value.pageTheme)),k=g(()=>e.value?e.value.pageTheme==="Dark blue"?T.Dark:e.value.pageTheme==="Blue"?T.Blue:e.value.pageTheme==="Purple"?T.Purple:T.Dark:T.Dark);re(()=>[k,c],()=>{c.value&&(_.footerTheme=k.value)});const L=g(()=>{const o=new Date(e.value.date);return e.value.date?o.getFullYear().toString():null}),V=g(()=>{const o=[];return e.value.services&&o.push(...e.value.services),e.value.sectors&&o.push(...e.value.sectors),o}),q=g(()=>{let o=[{label:p.data.year,content:{type:"string",data:L.value}},{label:p.data.service,content:{type:"array",data:e.value.services}},{label:p.data.sector,content:{type:"array",data:e.value.sectors}}];return e.value.offices.filter(a=>a.fields.id!=="h-and-k-global").length&&o.push({label:p.data.office,content:{type:"array",data:e.value.offices.filter(a=>a.fields.id!=="h-and-k-global")}}),o.push({label:p.data.capabilities,content:{type:"richText",data:e.value.capabilities}},{label:p.data.awards,content:{type:"richText",data:e.value.awards}}),o});le(()=>{let o=null;e.value.footerTitle&&e.value.footerTitle,e.value.associatedCaseStudies&&(o=e.value.associatedCaseStudies.map(a=>{let s=[];return a.fields.offices&&a.fields.offices.length>0&&s.push(H([a,"access",t=>t.fields,"access",t=>t.offices,"access",t=>t[0],"optionalAccess",t=>t.fields,"access",t=>t.city,"optionalAccess",t=>t.fields,"optionalAccess",t=>t.name])||H([a,"access",t=>t.fields,"access",t=>t.offices,"access",t=>t[0],"access",t=>t.fields,"optionalAccess",t=>t.cities,"optionalAccess",t=>t[0],"optionalAccess",t=>t.fields,"optionalAccess",t=>t.name])),a.fields.services&&s.push(a.fields.services[0].fields.title),a.fields.sectors&&s.push(a.fields.sectors[0].fields.title),{type:"case",id:a.fields.id,subtitle:a.fields.client,title:a.fields.title,tags:s}})),_.footerData={items:o}}),ce(()=>{_.theme=S.Dark,_.footer=ue.Case,_.inTransition?pe.pageEnterCompleted.on(I):I()}),de(()=>{w.value&&w.value.disconnect()});const I=()=>{c.value=!0,M()},M=()=>{w.value=new IntersectionObserver(o=>{_.theme=o[0].intersectionRatio>0?S.Light:S.Dark},{threshold:0,rootMargin:"0px 0px -85% 0px"}),C.value&&w.value.observe(C.value)};return(o,a)=>{const s=G,t=Q,N=Y,O=J,U=W,K=X,R=Z,j=ee,z=te;return r(),b("main",he,[x(t,{class:"case__intro"},{default:$(()=>[x(s,{typeLabel:u(p).data.caseStudy,title:u(e).title,client:u(e).client,image:u(e).image,description:u(e).description,details:q.value,theme:d.value},null,8,["typeLabel","title","client","image","description","details","theme"])]),_:1}),E("div",{class:"case__sections",ref_key:"root",ref:C},[(r(!0),b(A,null,F(u(e).sections,P=>(r(),b("div",{class:"case__section",key:P.fields.sectionTitle},[(r(!0),b(A,null,F(P.fields.blocks,i=>(r(),b(A,{key:i.sys.id},[i.sys.contentType.sys.id==="numberTitleParagraph"?(r(),v(N,{key:0,title:i.fields.title,number:i.fields.number,content:i.fields.content,theme:d.value},null,8,["title","number","content","theme"])):h("",!0),i.sys.contentType.sys.id==="blockImages"?(r(),v(O,{key:1,type:i.fields.type,theme:d.value},null,8,["type","theme"])):h("",!0),i.sys.contentType.sys.id==="blockQuote"?(r(),v(U,{key:2,quote:i.fields.quote,author:i.fields.name,position:i.fields.position,theme:d.value},null,8,["quote","author","position","theme"])):h("",!0),i.sys.contentType.sys.id==="blockStats"?(r(),v(K,{key:3,numbers:i.fields.numbers,theme:d.value},null,8,["numbers","theme"])):h("",!0),i.sys.contentType.sys.id==="blockEmbeddedVideo"?(r(),v(R,{key:4,image:i.fields.thumbnail,url:i.fields.embedUrl,theme:d.value},null,8,["image","url","theme"])):h("",!0)],64))),128))]))),128)),u(e).products?(r(),v(j,{key:0,title:u(p).data.relatedProducts,products:u(e).products},null,8,["title","products"])):h("",!0),x(t,{start:"bottom +=75%"},{default:$(()=>[E("div",ye,[x(z,{items:V.value,theme:d.value},null,8,["items","theme"])])]),_:1})],512)])}}});const ft=_e(ge,[["__scopeId","data-v-39043ff2"]]);export{ft as default};
