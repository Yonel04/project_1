import U from"./ServiceSectorHero.065ea793.js";import W from"./TeamSection.aaf942fc.js";import Y from"./TitleParagraph.546f3d2a.js";import j from"./ListWithDescription.211d7670.js";import z from"./DoubleColumnList.a4966ded.js";import G from"./ProductsSection.c285e660.js";import Q from"./QuoteWithImage.d1a16889.js";import Z from"./RelatedItems.b64336ca.js";import{_ as J}from"./StickyLayer.vue.d25c71c2.js";import{d as X,u as ee,w as $,r as x,P as E,F as te,A as ie,g as se,i as oe,h as C,bY as k,a as ne,b as ae,c as le,o as re,p as S,j as n,k as D,q as B,l as H,n as o,s as P,t as O,v as u,x as _,m as ce,bZ as y,y as me,_ as de}from"./entry.a5ffe6b6.js";import{l as q,g as pe}from"./locale.83ca1a04.js";import{u as ue}from"./useGlobalContent.a179bc4d.js";import{u as _e}from"./usePageTheme.46e6342d.js";import"./backBtn.6ed90b16.js";import"./ImageContentful.28e07224.js";import"./ScrollContinue.c68de9f2.js";import"./client-only.a5fdf211.js";import"./Contentful.13d3140f.js";import"./EntryLink.vue.b1ce39e8.js";import"./global.de8d543b.js";import"./SecondaryIconButton.f501442f.js";import"./InertiaPlugin.04320367.js";import"./TeamCard.e7dc115a.js";import"./MainPanel.8fc08879.js";import"./ProductPanel.efccdd41.js";import"./IconButton.3d0339e3.js";import"./MainPanelTabsNav.9c9f5824.js";import"./MainPanelTabsNavItem.1f25b0af.js";import"./PanelCopy.ced7894a.js";import"./PanelEmbedVideo.73c24324.js";import"./PanelImage.53de468d.js";import"./PanelTeamMember.150f29ad.js";import"./PanelRelated.62669752.js";import"./card4.a5bfd41c.js";import"./TeamMemberPanel.d5408c5e.js";import"./PanelPublications.7f5f7b00.js";import"./PanelPublicationsItem.c621f28c.js";import"./ActionCursor.d6a8aabd.js";import"./InterviewPanel.e178c1a5.js";import"./scroll.91b2c5c9.js";import"./ListWithDescriptionItem.e1d1d034.js";import"./DoubleColumnListItem.640cb28e.js";import"./ProductCard.b06a3b43.js";import"./DrawSVGPlugin.1b609e71.js";import"./rich-text-plain-text-renderer.es5.996a2dcf.js";function F(h){let r,a=h[0],f=1;for(;f<h.length;){const c=h[f],v=h[f+1];if(f+=2,(c==="optionalAccess"||c==="optionalCall")&&a==null)return;c==="access"||c==="optionalAccess"?(r=a,a=v(a)):(c==="call"||c==="optionalCall")&&(a=v((...T)=>a.call(r,...T)),r=void 0)}return a}const fe={class:"service"},ve={class:"service__intro"},ye=["id"],he=X({__name:"[id]",async setup(h){let r,a;const{locale:f}=ee();[r,a]=$(()=>ue()),await r,a();const c=x(),v=x(new Set);function T(s){v.value.add(s)}const w=x(),b=x(),g=()=>{k(),e.value.sections.forEach(s=>{const{id:t}=s.sys,{title:l}=s.fields;y.sections.push({id:t,title:l})}),y.label=pe("Service"),y.title=e.value.title,w.value=new IntersectionObserver(s=>{window.scrollY!==0&&(s[0].intersectionRatio>0?(S.theme=E.Light,y.showSub=!0):(S.theme=E.Dark,y.showSub=!1))},{threshold:0,rootMargin:"0px 0px -85% 0px"}),b.value=new IntersectionObserver(s=>{for(let t=0,l=s.length;t<l;t++)if(s[t].isIntersecting){v.value.forEach(m=>{m.id===s[t].target.id&&(y.activeSection=m.id)});break}},{threshold:0,rootMargin:"0px 0px -85% 0px"}),c.value&&w.value.observe(c.value),v.value.size>0&&v.value.forEach(s=>b.value.observe(s))},L=()=>{S.inTransition||g(),C.pageEnterCompleted.on(g),C.introCompleted.on(g)};_e({theme:E.Dark,footer:te.Case,footerTheme:ie.Dark}),se(()=>{L()}),oe(()=>{w.value&&w.value.disconnect(),b.value&&b.value.disconnect(),C.pageEnterCompleted.off(g),C.introCompleted.off(g),k()});const A=ne(),{data:e}=([r,a]=$(async()=>ae(`service_${A.params.id}`,async s=>{try{let t=await s.getEntries({content_type:"service","fields.id[in]":A.params.id,include:4,locale:f.value}),l=[];try{const m=await s.getEntries({"sys.contentType.sys.id[in]":"news,caseStudy,insight",links_to_entry:t.items[0].sys.id,locale:f.value,limit:10});if(F([m,"optionalAccess",p=>p.items,"access",p=>p.length])){const p=m.items.filter(I=>I.fields.id!==A.params.id);p.length&&(l=p)}}catch(m){console.log("Problem fetching related data 9",m)}return{id:t.items[0].fields.id,title:t.items[0].fields.title,thumbnail:t.items[0].fields.thumbnail,video:t.items[0].fields.video,labelDescription:t.items[0].fields.label,mainDescription:t.items[0].fields.mainDescription,metaDescription:t.items[0].fields.metaDescription,secondaryDescription:t.items[0].fields.secondaryDescription,sections:t.items[0].fields.sections,footerTitle:t.items[0].fields.footerTitle,associatedServices:t.items[0].fields.associatedServices,relatedCases:t.items[0].fields.relatedCaseStudies,relatedItems:l}}catch(t){console.log("Service not found",t),me({message:"Service not found",statusCode:404,fatal:!0})}})),r=await r,a(),r);return le({title:e.value.title+" - Hill & Knowlton"||"",meta:[{name:"description",content:e.value.metaDescription||""},{property:"og:image",content:e.value.thumbnail?`https:${e.value.thumbnail.fields.file.url}?w=1200&h=630`:`${{}.VUE_APP_DOMAIN}/meta.png`},{name:"twitter:image",content:e.value.thumbnail?`https:${e.value.thumbnail.fields.file.url}?w=1200&h=630`:`${{}.VUE_APP_DOMAIN}/meta.png`},{property:"og:title",content:e.value.title+" - Hill & Knowlton"||""},{property:"og:description",content:e.value.metaDescription||""},{name:"twitter:title",content:e.value.title+" - Hill & Knowlton"||""},{name:"twitter:description",content:e.value.metaDescription||""}]}),re(()=>{let s=null,t=null;e.value.footerTitle&&(s=e.value.footerTitle),e.value.associatedServices&&(t=e.value.associatedServices.map(l=>({type:"service",id:l.fields.id,title:l.fields.title}))),S.footerData={title:s,items:t}}),(s,t)=>{const l=U,m=W,p=Y,I=j,N=z,R=G,V=Q,M=Z,K=J;return n(),D("main",fe,[B("div",ve,[H(l,{label:"Service",title:o(e).title,image:o(e).thumbnail,video:o(e).video,labelDescription:o(e).labelDescription,mainDescription:o(e).mainDescription,secondaryDescription:o(e).secondaryDescription},null,8,["title","image","video","labelDescription","mainDescription","secondaryDescription"])]),B("div",{class:"service__sections",ref_key:"root",ref:c},[(n(!0),D(P,null,O(o(e).sections,d=>(n(),D("div",{class:"service__section",id:d.sys.id,key:d.sys.id,ref_for:!0,ref:T},[(n(!0),D(P,null,O(d.fields.blocks,i=>(n(),D(P,{key:i.sys.id},[i.sys.contentType.sys.id==="blockTeamSection"?(n(),u(m,{key:0,title:i.fields.title,teamMembers:i.fields.teamMembers},null,8,["title","teamMembers"])):_("",!0),i.sys.contentType.sys.id==="blockTitleParagraph"?(n(),u(p,{key:1,title:i.fields.title,content:i.fields.content,cta:i.fields.cta},null,8,["title","content","cta"])):_("",!0),i.sys.contentType.sys.id==="blockListWithDescription"?(n(),u(I,{key:2,title:i.fields.title,items:i.fields.items},null,8,["title","items"])):_("",!0),i.sys.contentType.sys.id==="blockDoubleColumnList"?(n(),u(N,{key:3,title:i.fields.title,items:i.fields.items},null,8,["title","items"])):_("",!0),i.sys.contentType.sys.id==="blockProductsSection"?(n(),u(R,{key:4,title:i.fields.title,products:i.fields.products},null,8,["title","products"])):_("",!0),i.sys.contentType.sys.id==="blockQuoteWithImage"?(n(),u(V,{key:5,image:i.fields.image,quote:i.fields.quote,author:i.fields.name,position:i.fields.position},null,8,["image","quote","author","position"])):_("",!0)],64))),128))],8,ye))),128)),F([o,"call",d=>d(e),"access",d=>d.relatedCases,"optionalAccess",d=>d.length])?(n(),u(M,{key:0,items:o(e).relatedCases,title:o(q).data.globalHighlightedCaseStudies,"default-display-count":3},null,8,["items","title"])):_("",!0),H(K,{start:"bottom +=75%",class:"service__section"},{default:ce(()=>[o(e).relatedItems.length?(n(),u(M,{key:0,items:o(e).relatedItems,title:`${o(q).data.globalRelatedTo} ${o(e).title}`},null,8,["items","title"])):_("",!0)]),_:1})],512)])}}});const mt=de(he,[["__scopeId","data-v-3dfab81e"]]);export{mt as default};
