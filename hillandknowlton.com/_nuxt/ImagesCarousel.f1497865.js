import H from"./ImageContentful.28e07224.js";import L from"./SecondaryIconButton.f501442f.js";import{d as F,bN as h,bW as G,r as f,g as U,h as S,i as X,e as Z,p as J,j as $,k as D,q as v,be as K,s as O,t as Q,l as p,m as Y,a3 as A,bR as ee,c1 as te,aV as ae,aS as le,_ as se}from"./entry.a5ffe6b6.js";import ne from"./ActionCursor.d6a8aabd.js";import{D as B,I as ie}from"./InertiaPlugin.04320367.js";function oe(n){let m,l=n[0],u=1;for(;u<n.length;){const c=n[u],d=n[u+1];if(u+=2,(c==="optionalAccess"||c==="optionalCall")&&l==null)return;c==="access"||c==="optionalAccess"?(m=l,l=d(l)):(c==="call"||c==="optionalCall")&&(l=d((...s)=>l.call(m,...s)),m=void 0)}return l}const re=n=>(ae("data-v-fbbf91ab"),n=n(),le(),n),ce={class:"images-carousel__title h5 xl:p2d"},ue={class:"images-carousel__nav__container col-start-2 col-end-12 xl:col-start-2 xl:col-end-16"},de={class:"images-carousel__nav"},fe=re(()=>v("span",null,"Drag",-1)),me=8,_e=F({__name:"ImagesCarousel",props:{title:{type:String,required:!0},images:{type:Array,required:!0},theme:{type:String,required:!1,default:"dark-blue"}},setup(n){const m=n;h.registerPlugin(B,ie,G);const l=f([]),u=f(!1),c=f(null),d=f(null),s=f(null),x=f(null);let b=null;const z=(a=!1)=>{b&&(oe([b,"access",e=>e.scrollTrigger,"optionalAccess",e=>e.kill,"call",e=>e(a)]),b.kill())};function W(){z(),b=h.timeline({scrollTrigger:{trigger:c.value,start:"top 75%"}});const a=ee.isMobile?0:250;for(let e=0,t=l.value.length;e<t;e++){const i=x.value[e],g=l.value[e];b.fromTo(i,{x:-g.x-a,zIndex:t-e},{duration:1.2,x:0,zIndex:t-e,ease:"quart.out",force3D:!0},0)}}function N(){u.value=!0}function P(){u.value=!1}let M=null,_=0,I=0;const k=f(0);U(()=>{S.resize.on(w),S.pageEnterCompleted.on(w),w()}),X(()=>{S.resize.off(w),S.pageEnterCompleted.off(w),q(),z()});const w=()=>{if(s.value&&d.value){_=s.value.querySelector("li").offsetWidth+me,I=s.value.offsetWidth-d.value.offsetWidth,k.value=Math.min(Math.ceil(I/_),m.images.length-1);const e=s.value.getBoundingClientRect().height;for(let t=0,i=x.value.length;t<i;t++){const g=m.images[t].fields.file.details.image,C=g.width/g.height,r=x.value[t],E=e*C+parseInt(window.getComputedStyle(r).getPropertyValue("margin-right"));l.value[t]={width:E,x:t===0?0:l.value[t-1].x+l.value[t-1].width}}}q(),j();for(let a=0,e=l.value.length;a<e;a++){const t=x.value[a],i=l.value[a];a!==0?h.set(t,{x:-i.x,zIndex:e-a,force3D:!0}):h.set(t,{zIndex:e+1})}W()},o=f(0),y=Z(()=>J.rtl),T=a=>{if(s.value&&d.value){const e=y.value?-a:a,t=Math.min(m.images.length-1,Math.max(0,o.value+e));o.value=t;const i=y.value?o.value*_:o.value*-_;h.to(s.value,{x:y.value?Math.min(I,i):Math.max(-I,i),duration:.7,ease:"quart.out"})}};function R(){T(-1)}function V(){T(1)}const q=()=>{M&&(M.kill(),M=null,s.value&&h.set(s.value,{clearProps:"all"}))},j=()=>{s.value&&(M=B.create(s.value,{bounds:d.value,type:"x",edgeResistance:.9,inertia:!0,snap:a=>{const e=Math.round(a/_)*_;return o.value=Math.min(k.value,Math.max(0,-e/_)),e}})[0],o.value=0,h.set(s.value,{x:0}))};return(a,e)=>{const t=H,i=L,g=te,C=ne;return $(),D("div",{class:"images-carousel grid-m grid xl:padded",ref_key:"$el",ref:c},[v("div",{class:"images-carousel__container col-start-2 col-end-12 xl:col-start-2 xl:col-end-16",ref_key:"$container",ref:d},[v("h2",ce,K(n.title),1),v("ul",{class:"images-carousel__list",ref_key:"$list",ref:s,onMouseenter:N,onMouseleave:P},[($(!0),D(O,null,Q(n.images,r=>($(),D("li",{key:r.sys.id,class:"images-carousel__list__item",ref_for:!0,ref_key:"$items",ref:x},[p(t,{src:r.fields.file.url,size:{width:Math.round(r.fields.file.details.image.width/r.fields.file.details.image.height*584),height:584},srcMobile:r.fields.file.url,sizeMobile:{width:Math.round(r.fields.file.details.image.width/r.fields.file.details.image.height*256),height:256},alt:r.fields.description},null,8,["src","size","srcMobile","sizeMobile","alt"])]))),128))],544)],512),v("div",ue,[v("div",de,[p(i,{name:"chevron",theme:"blue",disabled:y.value?o.value>=k.value:o.value===0,opacity:.5,animation:!1,onClick:R},null,8,["disabled"]),p(i,{name:"chevron",theme:"blue",disabled:y.value?o.value===0:o.value>=k.value,opacity:.5,animation:!1,flipX:!0,onClick:V},null,8,["disabled"])])]),p(C,{show:u.value,theme:n.theme},{default:Y(()=>[v("span",null,[p(g,{name:"arrow-straight-left"}),A(),fe,A(),p(g,{name:"arrow-straight"})])]),_:1},8,["show","theme"])],512)}}});const be=se(_e,[["__scopeId","data-v-fbbf91ab"]]);export{be as default};
