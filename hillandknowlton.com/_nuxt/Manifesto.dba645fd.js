import{d as m,bN as u,bW as g,r as p,g as v,h as r,aE as _,i as b,bR as d,j as h,k as x,q as y,l as C,n as M,bQ as k,_ as T}from"./entry.a5ffe6b6.js";function S(a){let t,e=a[0],l=1;for(;l<a.length;){const s=a[l],o=a[l+1];if(l+=2,(s==="optionalAccess"||s==="optionalCall")&&e==null)return;s==="access"||s==="optionalAccess"?(t=e,e=o(e)):(s==="call"||s==="optionalCall")&&(e=o((...f)=>e.call(t,...f)),t=void 0)}return e}const A={class:"manifesto-content h3 xl:h3d"},E=m({__name:"Manifesto",props:{content:{type:Object}},setup(a){u.registerPlugin(g);const t=p(),e=p([]);v(async()=>{r.resize.on(o),r.pageEnterCompleted.on(o),r.introCompleted.on(o),await _(),o(),e.value=[...t.value.querySelectorAll(".manifesto-content p")]}),b(()=>{s(!1),r.introCompleted.off(o),r.pageEnterCompleted.off(o),r.resize.off(o)});let l=[];const s=(i=!0)=>{l.forEach(c=>{i&&u.utils.selector(t.value),S([c,"access",n=>n.scrollTrigger,"optionalAccess",n=>n.kill,"call",n=>n(i)]),c.kill()}),l=[]},o=()=>{f()},f=async()=>{s(),u.utils.selector(t.value);const i=u.timeline({scrollTrigger:{trigger:t.value,start:d.isMobile?"25% top":"50% top",end:d.isMobile?"bottom 50%":"bottom top",scrub:!0}});i.to(".fixed-video",{opacity:0,duration:1}),l.push(i),await _();const c=u.timeline({scrollTrigger:{trigger:t.value,start:d.isMobile?"top 50%":"top 10%",end:d.isMobile?"bottom 80%":"bottom 60%",scrub:.25},defaults:{ease:"none",duration:1}});for(let n=0;n<e.value.length;n++)c.to(e.value[n],{opacity:1,duration:1/e.value.length},n/e.value.length);l.push(c)};return(i,c)=>(h(),x("div",{class:"manifesto",ref_key:"root",ref:t},[y("div",A,[C(M(k),{document:a.content},null,8,["document"])])],512))}});const B=T(E,[["__scopeId","data-v-df4c2e3b"]]);export{B as default};
