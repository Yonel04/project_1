import L from"./StatsNumber.70f6ce7e.js";import O from"./SecondaryIconButton.f501442f.js";import{d as U,bN as w,bW as G,r,e as M,g as J,h as v,i as K,j as h,k as C,q as x,s as Q,t as Y,l as b,x as D,v as Z,m as ee,a3 as P,be as te,n as ae,aF as ne,c1 as le,_ as se}from"./entry.a5ffe6b6.js";import oe from"./ActionCursor.d6a8aabd.js";import{D as T,I as re}from"./InertiaPlugin.04320367.js";import{l as ie}from"./locale.83ca1a04.js";function ue(i){let c,a=i[0],u=1;for(;u<i.length;){const s=i[u],d=i[u+1];if(u+=2,(s==="optionalAccess"||s==="optionalCall")&&a==null)return;s==="access"||s==="optionalAccess"?(c=a,a=d(a)):(s==="call"||s==="optionalCall")&&(a=d((...n)=>a.call(c,...n)),c=void 0)}return a}const ce={key:0,class:"stats__nav__container col-start-2 col-end-12 xl:col-start-2 xl:col-end-16"},de={class:"stats__nav"},fe=U({__name:"Stats",props:{numbers:{type:Array,required:!0},theme:{type:String,required:!1,default:"dark-blue"}},setup(i){const c=i;w.registerPlugin(T,re,G);const a=r(0),u=r(0),s=r(0),d=r(0),n=r([]);let k=null;const S=r(!1),B=r(null),$=r(null),_=r(null),g=r(null);let y=null;const E=(e=!1)=>{y&&(ue([y,"access",t=>t.scrollTrigger,"optionalAccess",t=>t.kill,"call",t=>t(e)]),y.kill())},f=M(()=>{let e=0,t=!1;for(let l=0,o=n.value.length;l<o;l++){const m=n.value[l];d.value===0?e+=1:e>0&&m.x===d.value&&!t?t=!0:(m.x+m.width<u.value||t)&&(e+=1)}return c.numbers.length-e}),R=M(()=>a.value>0),V=M(()=>a.value<f.value);J(()=>{p(),v.resize.on(p),v.pageEnter.on(I),v.pageEnter.on(p)}),K(()=>{v.resize.off(p),v.pageEnter.off(I),v.pageEnter.off(p)});function I(){E(),y=w.timeline({scrollTrigger:{trigger:B.value,start:"top center"}})}function W(){S.value=!0}function j(){S.value=!1}function q(){k&&(k.kill(),k=null,_.value&&w.set(_.value,{clearProps:"all"}))}function z(){k=T.create(_.value,{bounds:{minX:n.value[f.value]?-n.value[f.value].x:0,maxX:0},type:"x",dragResistance:0,edgeResistance:.65,inertia:!0,snap:e=>{const t=e>0?n.value[0].x:n.value.reduce((l,o)=>Math.abs(o.x-Math.abs(e))<Math.abs(l.x-Math.abs(e))?o:l).x;return a.value=n.value.findIndex(l=>l.x===t),-t}})[0],a.value=0}function N(e){const{length:t}=c.numbers;a.value+e===t||a.value+e===-1||(a.value+=e,w.to(_.value,{x:-n.value[a.value].x,duration:.7,ease:"quart.out"}))}function p(){if(q(),$.value&&g.value&&c.numbers){u.value=$.value.getBoundingClientRect().width,s.value=0;for(let e=0,t=g.value.length;e<t;e++){const l=g.value[e],o=l.getBoundingClientRect().width+parseInt(window.getComputedStyle(l).getPropertyValue("margin-right"));n.value[e]={width:o,x:e===0?0:n.value[e-1].x+n.value[e-1].width},s.value+=o}d.value=Math.max(s.value-u.value,0);for(let e=0,t=g.value.length;e<t;e++)n.value[e].x=Math.min(n.value[e].x,d.value);f.value>0&&z()}}function X(){N(-1)}function F(){N(1)}return(e,t)=>{const l=L,o=O,m=le,H=oe;return h(),C("div",{class:ne(["stats grid-m grid xl:padded",[`stats--${i.theme}`]]),ref_key:"$el",ref:B},[x("div",{class:"stats__container col-start-2 col-end-12 xl:col-start-2 xl:col-end-16",ref_key:"$container",ref:$},[x("ul",{class:"stats__list",ref_key:"$list",ref:_,onMouseenter:W,onMouseleave:j},[(h(!0),C(Q,null,Y(i.numbers,A=>(h(),C("li",{class:"stats__list__item",ref_for:!0,ref_key:"$items",ref:g},[b(l,{number:A.fields.number,caption:A.fields.caption,theme:i.theme},null,8,["number","caption","theme"])],512))),256))],544)],512),f.value!==0?(h(),C("div",ce,[x("div",de,[b(o,{name:"chevron",theme:"blue",disabled:!R.value,opacity:.5,onClick:X},null,8,["disabled"]),b(o,{name:"chevron",theme:"blue",disabled:!V.value,opacity:.5,flipX:!0,onClick:F},null,8,["disabled"])])])):D("",!0),f.value!==0?(h(),Z(H,{key:1,show:S.value,theme:"dark-blue"},{default:ee(()=>[x("span",null,[b(m,{name:"arrow-straight-left"}),P(),x("span",null,te(ae(ie).data.globalDrag),1),P(),b(m,{name:"arrow-straight"})])]),_:1},8,["show"])):D("",!0)],2)}}});const xe=se(fe,[["__scopeId","data-v-acdf11bc"]]);export{xe as default};
