import{d as ne,bN as c,bW as ie,r as _,e as H,bR as re,g as ce,h as f,i as ue,j as g,k as v,q as l,l as d,n as k,bQ as de,be as C,m as I,a3 as O,s as W,t as R,x as j,aF as pe,a2 as _e,bT as fe,c0 as me,c1 as ge,bP as N,_ as ve}from"./entry.a5ffe6b6.js";import he from"./ImageContentful.28e07224.js";import be from"./SecondaryIconButton.f501442f.js";import ye from"./ActionCursor.d6a8aabd.js";import{S as z}from"./SplitText.a8cce3cb.js";import{D as J,I as ke}from"./InertiaPlugin.04320367.js";import{g as Y}from"./global.de8d543b.js";import{l as xe}from"./locale.83ca1a04.js";function Ce(n,m){return n??m()}function Q(n){let m,a=n[0],h=1;for(;h<n.length;){const s=n[h],b=n[h+1];if(h+=2,(s==="optionalAccess"||s==="optionalCall")&&a==null)return;s==="access"||s==="optionalAccess"?(m=a,a=b(a)):(s==="call"||s==="optionalCall")&&(a=b((...E)=>a.call(m,...E)),m=void 0)}return a}const Se={class:"clients-container"},Me=_e('<div class="clients-background background--electric-pink" data-v-638be6f7></div><div class="clients-background background--dark-blue" data-v-638be6f7></div><div class="clients-background background--off-white" data-v-638be6f7></div><div class="clients-background background--blue" data-v-638be6f7></div><div class="clients-background background--off-white" data-v-638be6f7></div>',5),Pe={class:"clients-top grid"},Te={class:"xl:col-start-2 xl:col-span-8"},we={class:"h2 xl:h2d"},Ne={class:"clients-infos xl:col-start-4 xl:col-span-5"},Ee={class:"clients-description p3 xl:p3d"},qe={class:"clients-slider__inner grid"},Ae={key:0,class:"case_study__visual"},Ie={class:"uppercase p5 xl:subtitle1"},We={class:"p2 xl:h5"},ze={class:"clients-bottom grid"},Be={class:"clients-arrows xl:col-start-2 xl:col-end-16"},Le={class:"arrow-dots"},$e=ne({__name:"ClientsSlider",props:{title:{type:Object},description:{type:String},slider:{type:Array},cta:{type:String}},setup(n){const m=n;c.registerPlugin(ie,z,J,ke);let a=_([]);const h=JSON.parse(JSON.stringify(m.slider));a.value=h.map(({fields:e})=>({fields:e}));const s=_(),b=_(!1),E=()=>b.value=!0,U=()=>b.value=!1,X=H(()=>re.isMobile);let q=[],S=[];const B=(e=!0)=>{q.forEach(t=>{e&&c.utils.selector(s.value),Q([t,"access",o=>o.scrollTrigger,"optionalAccess",o=>o.kill,"call",o=>o(e)]),t.kill()}),q=[]},G=async()=>{if(S.reverse().forEach(e=>{e.revert()}),S=[],s.value){const e=c.utils.selector(s.value),t=new z(e(".clients-top h2"),{type:"lines",linesClass:"subline"});S.push(t);const o=new z(e(".clients-top h2"),{type:"lines",linesClass:"line"});S.push(o)}},K=()=>{B();const e=c.utils.selector(s.value),t=c.timeline({scrollTrigger:{trigger:s.value,start:"top 125%",end:"bottom top",toggleActions:"play pause resume reset"}});t.fromTo(e(".clients-background"),{yPercent:-5,scale:1.05},{yPercent:0,scale:1,stagger:-.075,duration:1.5,ease:"quart.out"},.25);const o=c.timeline({scrollTrigger:{trigger:s.value,start:"top 10%",end:"bottom 10%",toggleActions:"play pause resume reset",onEnter:()=>N.mode="dark",onLeaveBack:()=>N.mode="light",onEnterBack:()=>N.mode="dark",onLeave:()=>N.mode="light"}}),T=c.timeline({scrollTrigger:{trigger:s.value,start:"top 75%",end:"bottom top",toggleActions:"play complete none none"}});T.fromTo(e(".clients-top h2 .subline"),{yPercent:200,rotate:10,scaleY:2,transformOrigin:"left bottom"},{yPercent:0,rotate:0,scaleY:1,stagger:.15,duration:.85,ease:"quart.out",clearProps:"all"},"start+=0.25").fromTo(e(".clients-description"),{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:1.25,ease:"quart.out"},"start+=0.5").fromTo(e(".primary-text-button__text"),{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:1,ease:"quart.out"},"start+=0.75").fromTo(e(".primary-text-button__circle"),{scale:0},{scale:1,duration:1,ease:"quart.out"},"start+=0.75").from(e(".clients-slider-item ul"),{xPercent:100,duration:1.75,ease:"quart.out",clearProps:"all"},"start"),q.push(T,t,o)},Z=_(null),x=_(null),i=_(null);let L=[],M=null,y=0,A=0;const P=_(0),ee=H(()=>X?30:78),u=()=>{G(),K(),i.value&&x.value&&(y=i.value.querySelector("li").offsetWidth+ee.value,A=i.value.offsetWidth-x.value.offsetWidth,P.value=Math.min(Math.ceil(A/y),a.value.length-1)),D(),L.forEach(e=>{Q([e,"access",t=>t.scrollTrigger,"optionalAccess",t=>t.kill,"call",t=>t(!0)]),e.kill()}),L=[],te()};ce(()=>{f.resize.on(u),f.pageEnter.on(u),f.pageEnterCompleted.on(u),f.introCompleted.on(u),u()}),ue(()=>{B(!1),D(),f.resize.off(u),f.pageEnter.off(u),f.pageEnterCompleted.off(u),f.introCompleted.off(u)});const p=_(0),$=e=>{if(i.value&&x.value){const t=Math.min(a.value.length-1,Math.max(0,p.value+e));p.value=t;const o=p.value*-y;c.to(i.value,{x:Math.max(-A,o),duration:.7,ease:"quart.out"})}},D=()=>{M&&(M.kill(),M=null,i.value&&c.set(i.value,{clearProps:"all"}))},te=()=>{i.value&&(M=J.create(i.value,{bounds:x.value,type:"x",edgeResistance:.9,inertia:!0,snap:e=>{const t=Math.round(e/y)*y;return p.value=Math.min(P.value,Math.max(0,-t/y)),t}})[0],p.value=0,c.set(i.value,{x:0}))},le=()=>{$(-1)},se=()=>{$(1)};return(e,t)=>{const o=fe,T=he,ae=me,V=be,F=ge,oe=ye;return g(),v(W,null,[l("div",{class:"clients-slider",ref_key:"root",ref:s},[l("div",Se,[Me,l("div",Pe,[l("div",Te,[l("h2",we,[d(k(de),{document:n.title},null,8,["document"])])]),l("div",Ne,[l("p",Ee,C(n.description),1),d(o,{to:e.localePath("/work"),type:"NuxtLink",theme:"purple"},{default:I(()=>[O(C(n.cta),1)]),_:1},8,["to"])])]),k(a).length>0?(g(),v("div",{key:0,class:"clients-slider-item",onMouseenter:E,onMouseleave:U,ref_key:"container",ref:Z},[l("div",qe,[l("div",{class:"clients-slider__list xl:col-start-2 xl:col-end-16",ref_key:"listWrapper",ref:x},[l("ul",{ref_key:"list",ref:i},[(g(!0),v(W,null,R(k(a),(r,w)=>(g(),v("li",{key:"case_study"+w,class:"case_study"},[d(ae,{to:e.localePath(`/case/${r.fields.id}`)},{default:I(()=>[r.fields.image?(g(),v("div",Ae,[d(T,{imgClassName:"case_study__visual__image",src:r.fields.image?r.fields.image.fields.file.url:k(Y).content.caseHeroFallback.thumbnail.fields.file.url,size:{width:352,height:413},srcMobile:r.fields.image?r.fields.image.fields.file.url:k(Y).content.caseHeroFallback.thumbnail.fields.file.url,sizeMobile:{width:255,height:300},alt:Ce(r.fields.image.description,()=>""),lazy:!0},null,8,["src","srcMobile","alt"])])):j("",!0),l("p",Ie,C(r.fields.client),1),l("h3",We,C(r.fields.title),1)]),_:2},1032,["to"])]))),128))],512)],512)])],544)):j("",!0),l("div",ze,[l("div",Be,[d(V,{name:"chevron",theme:"blue",animation:!1,disabled:p.value===0,onClick:le},null,8,["disabled"]),l("div",Le,[(g(!0),v(W,null,R(P.value+1,(r,w)=>(g(),v("div",{class:pe(["dot",{active:p.value===w}]),key:"client"+w},null,2))),128))]),d(V,{name:"chevron",theme:"blue",animation:!1,disabled:p.value>=P.value,flipX:!0,onClick:se},null,8,["disabled"])])])])],512),d(oe,{class:"drag-cursor",show:b.value,theme:"purple"},{default:I(()=>[l("span",null,[d(F,{class:"icon-left",name:"arrow"}),O(" "+C(k(xe).data.globalDrag)+" ",1),d(F,{name:"arrow"})])]),_:1},8,["show"])],64)}}});const Ye=ve($e,[["__scopeId","data-v-638be6f7"]]);export{Ye as default};
