import{d as X,bN as b,bW as K,r as g,e as Y,bR as q,g as Z,h as C,i as ee,j as n,k as c,q as r,aF as N,l as x,m as A,be as S,n as _,x as B,s as G,t as O,aH as H,a3 as j,bQ as te,c0 as ae,bT as le,_ as se}from"./entry.a5ffe6b6.js";import re from"./SecondaryIconButton.f501442f.js";import{S as z}from"./SplitText.a8cce3cb.js";function oe(u){let P,d=u[0],l=1;for(;l<u.length;){const p=u[l],s=u[l+1];if(l+=2,(p==="optionalAccess"||p==="optionalCall")&&d==null)return;p==="access"||p==="optionalAccess"?(P=d,d=s(d)):(p==="call"||p==="optionalCall")&&(d=s((...h)=>d.call(P,...h)),P=void 0)}return d}const ie={class:"grid-item"},ne={class:"h2"},ce={key:0,class:"o-hidden"},ue={key:1,class:"o-hidden"},de={class:"grid-container"},fe={class:"grid grid-container--right"},pe={class:"xl:col-span-8 xl:col-start-8"},me=["onMouseenter"],ve={class:"grid grid-container--left"},ge={class:"xl:col-start-2 xl:col-span-9"},_e={class:"h2 xl:h2d"},he={class:"subtitle1"},ye={key:0,class:"curated-arrows"},be={class:"arrow-dots"},xe=X({__name:"GalleryGrid",props:{title:{type:Object},description:{type:String},cta:{type:String},gallery:{type:Array}},emits:["waves"],setup(u,{emit:P}){const d=u;b.registerPlugin(K,z);let l=g([]);const p=JSON.parse(JSON.stringify(d.gallery));l.value=p.map(({fields:e})=>({fields:e}));const s=g(null),h=g([]),m=Y(()=>q.isMobile),D=Y(()=>q.isMobile?6:9);Z(()=>{C.pageEnter.on(k),C.resize.on(k),k(),I()}),ee(()=>{V(!1),C.pageEnter.off(k),C.resize.off(k)});let L=[],w=[];const V=(e=!0)=>{L.forEach(i=>{e&&b.utils.selector(s.value),oe([i,"access",t=>t.scrollTrigger,"optionalAccess",t=>t.kill,"call",t=>t(e)]),i.kill()}),L=[]},F=async()=>{if(w.reverse().forEach(e=>{e.revert()}),w=[],s.value){const e=b.utils.selector(s.value),i=new z(e(".grid-container--left h2"),{type:"lines",linesClass:"subline"});w.push(i);const t=new z(e(".grid-container--left h2"),{type:"lines",linesClass:"line"});w.push(t)}};g(0);const J=g(0),k=()=>{J.value=s.value.getBoundingClientRect().height,F(),U()},U=()=>{V();const e=b.utils.selector(s.value);let i=!1;i=!0,P("waves",i),m.value;const t=[...s.value.querySelectorAll(".grid-container--right li")],T=[...s.value.querySelectorAll(".grid-item > div")],y=b.timeline({scrollTrigger:{trigger:s.value,start:"top 0%",end:m.value?"+=200%":"+=400%",scrub:!0,pin:!q.isMobile,onUpdate:a=>{i=a.direction===1}}});y.add(()=>{m.value||(t.forEach(a=>a.classList.remove("is-active")),T.forEach(a=>a.classList.remove("grid-item--active")))},1);const f=(a,$)=>{if(m.value)return;t.forEach(M=>M.classList.remove("is-active")),t[a].classList.add("is-active"),T.forEach(M=>M.classList.remove("grid-item--active")),T[$-1].classList.add("grid-item--active"),I(l.value[a].fields.thumbnail.fields.file.url,a)};for(let a=0;a<t.length;a++){let $=1.4+a*.2;y.add(()=>{t.length>a&&f(a,a+1)},$)}const v=b.timeline({scrollTrigger:{trigger:s.value.querySelector(".grid-container"),start:()=>q.isMobile?"top 60%":"bottom +=75%",toggleActions:"play complete none none"}});v.from(e(".grid-item"),{opacity:0,scale:1.5,duration:1,ease:"quart.out",clearProps:"all"},"start+=0.25").from(e("ul li"),{yPercent:100,opacity:0,stagger:.075,ease:"quart.out",clearProps:"all"},"start+=0.25").fromTo(e(".grid-container--left .subline"),{yPercent:200,rotate:10,scaleY:2,transformOrigin:"left bottom"},{yPercent:0,rotate:0,scaleY:1,stagger:.15,duration:.85,ease:"quart.out",clearProps:"all"},"start+=0.25").fromTo(e(".grid-container--left .subtitle1"),{opacity:0},{opacity:1,duration:1,ease:"quart.out",clearProps:"all"},"start+=0.35").fromTo(e(".desc-item .p3"),{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:1.25,ease:"quart.out",clearProps:"all"},"start+=0.5").fromTo(e(".primary-text-button__text"),{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:1,ease:"quart.out",clearProps:"all"},"start+=0.75").fromTo(e(".primary-text-button__circle"),{scale:0},{scale:1,duration:1,ease:"quart.out",clearProps:"all"},"start+=0.75").fromTo(".waves-content--right .subline",{yPercent:200,rotate:10,scaleY:2,transformOrigin:"left bottom"},{yPercent:0,rotate:0,scaleY:1,stagger:.15,duration:.85,ease:"quart.out",clearProps:"all"},"start+=0.75").fromTo(".waves-content--left p",{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:1.25,ease:"quart.out",clearProps:"all"},"start+=0.5").fromTo(".primary-text-button__text",{yPercent:100,opacity:0},{yPercent:0,opacity:1,duration:1,ease:"quart.out",clearProps:"all"},"start+=0.75").fromTo(".primary-text-button__circle",{scale:0},{scale:1,duration:1,ease:"quart.out",clearProps:"all"},"start+=1"),L.push(v,y)},E=g(""),I=(e,i)=>{R();let t=null;i?t=h.value[i]:t=h.value[0],t.classList.add("grid-item--active"),e&&(E.value=e+"?fm=webp&q=70&w=750&h=750")},R=()=>{h.value.forEach(e=>e.classList.remove("grid-item--active"))},o=g(0),W=()=>{o.value>0&&o.value--},Q=()=>{o.value<l.value.length-1&&o.value++};return(e,i)=>{const t=ae,T=le,y=re;return n(),c("div",{class:"gallery-grid",ref_key:"root",ref:s},[r("div",ie,[m.value?(n(),c("div",{key:0,class:N(["mobile-slider",[`step--${o.value}`]])},[x(t,{to:e.localePath(`/service/${_(l)[o.value].fields.id}`)},{default:A(()=>[r("h2",ne,S(_(l)[o.value].fields.name),1)]),_:1},8,["to"])],2)):B("",!0),(n(!0),c(G,null,O(D.value,f=>(n(),c("div",{key:f,class:N({"grid-item--active":m.value&&o.value+1===f}),ref_for:!0,ref_key:"gridItems",ref:h},[m.value?(n(),c("div",ce,[r("div",{class:"background--expertise",style:H(`background-image: url(${_(l)[o.value].fields.thumbnail.fields.file.url}?fm=webp&q=80&w=750&h=750)`)},null,4)])):E.value?(n(),c("div",ue,[r("div",{class:"background--expertise",style:H(`background-image: url(${E.value})`)},null,4)])):B("",!0)],2))),128))]),r("div",de,[r("div",fe,[r("div",pe,[r("ul",null,[(n(!0),c(G,null,O(_(l),(f,v)=>(n(),c("li",{class:"h4 xl:h4d",key:"expertise"+v,onMouseenter:a=>I(f.fields.thumbnail.fields.file.url,v),onMouseleave:R},[x(t,{to:e.localePath(`/service/${f.fields.id}`)},{default:A(()=>[j(S(f.fields.name),1)]),_:2},1032,["to"])],40,me))),128))])])]),r("div",ve,[r("div",ge,[r("h2",_e,[x(_(te),{document:u.title},null,8,["document"])]),r("p",he,S(u.description),1),x(T,{to:"/expertise",type:"NuxtLink"},{default:A(()=>[j(S(u.cta),1)]),_:1})])])]),m.value?(n(),c("div",ye,[x(y,{name:"chevron",theme:"white",animation:!1,disabled:o.value===0,onClick:W},null,8,["disabled"]),r("div",be,[(n(!0),c(G,null,O(_(l).length,(f,v)=>(n(),c("div",{class:N(["dot",{active:o.value===v}]),key:"expertise"+v},null,2))),128))]),x(y,{name:"chevron",theme:"white",animation:!1,disabled:o.value>=_(l).length-1,flipX:!0,onClick:Q},null,8,["disabled"])])):B("",!0)],512)}}});const qe=se(xe,[["__scopeId","data-v-5e2f93ad"]]);export{qe as default};
