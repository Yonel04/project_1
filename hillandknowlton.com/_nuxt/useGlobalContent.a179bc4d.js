import{u as r,c5 as u,y as g}from"./entry.a5ffe6b6.js";import{l as f}from"./locale.83ca1a04.js";import{g as m}from"./global.de8d543b.js";function c(t){let i,a=t[0],n=1;for(;n<t.length;){const e=t[n],o=t[n+1];if(n+=2,(e==="optionalAccess"||e==="optionalCall")&&a==null)return;e==="access"||e==="optionalAccess"?(i=a,a=o(a)):(e==="call"||e==="optionalCall")&&(a=o((...s)=>a.call(i,...s)),i=void 0)}return a}const v=async()=>{const{locale:t}=r(),{data:i}=await u(`navigation_${t.value}`,async({$contentful:a,$previewContentful:n})=>{try{let e=await a.getEntries({content_type:"global",limit:1,include:5,locale:t.value});return{...{textLabels:e.items[0].fields.textLabels.fields,textLabelsPart2:e.items[0].fields.textLabelsPart2.fields,menu:e.items[0].fields.header.fields.menuItems.map(s=>({label:s.fields.displayTitle,highlight:s.fields.highlightItem,link:s.fields.linkedPage,subMenu:c([s,"access",l=>l.fields,"access",l=>l.subNavigation,"optionalAccess",l=>l.map,"call",l=>l(d=>({label:d.fields.displayTitle,highlight:d.fields.highlightItem,link:d.fields.linkedPage}))])})),search:e.items[0].fields.search.fields,inspiredPanel:{title:e.items[0].fields.inspiredPanel.fields.title,subtitle:e.items[0].fields.inspiredPanel.fields.subtitle,mainLabelLines:e.items[0].fields.inspiredPanel.fields.mainLabelLines,items:e.items[0].fields.inspiredPanel.fields.items,backLabel:e.items[0].fields.inspiredPanel.fields.backLabel},footer:e.items[0].fields.footer.fields,internalFooter:e.items[0].fields.internalFooter.fields,officeFooter:e.items[0].fields.officeFooter.fields,caseFooter:e.items[0].fields.caseFooter.fields,caseHeroFallback:{video:e.items[0].fields.caseStudyFallbackVideo,thumbnail:e.items[0].fields.caseStudyFallbackVideoThumbnail},highlightedServicesCta:e.items[0].fields.highlightedServicesCta,languagePanel:{title:e.items[0].fields.languagePanel.fields.title,descriptionRich:e.items[0].fields.languagePanel.fields.descriptionRich,options:e.items[0].fields.languagePanel.fields.languageCountries.map(s=>({label:s.fields.countryLabel,office:c([s,"access",l=>l.fields,"access",l=>l.officePage,"optionalAccess",l=>l.fields,"access",l=>l.id]),languages:s.fields.languages.map(l=>l.fields)}))}}}}catch(e){console.error("Navigation not found",e),g({message:"Navigation not found",statusCode:404,fatal:!0})}});return i.value.textLabels&&(f.data=i.value.textLabels),i.value.textLabelsPart2&&(f.data={...f.data,...i.value.textLabelsPart2}),i.value&&(m.content=i.value),{page:i}};export{v as u};
