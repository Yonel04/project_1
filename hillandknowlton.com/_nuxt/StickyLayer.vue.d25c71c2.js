import{d as h,bN as p,bW as y,r as f,g as S,bR as m,h as g,i as b,j as k,v as C,m as _,a$ as w,b2 as B}from"./entry.a5ffe6b6.js";function A(a){let o,t=a[0],e=1;for(;e<a.length;){const l=a[e],s=a[e+1];if(e+=2,(l==="optionalAccess"||l==="optionalCall")&&t==null)return;l==="access"||l==="optionalAccess"?(o=t,t=s(t)):(l==="call"||l==="optionalCall")&&(t=s((...r)=>t.call(o,...r)),o=void 0)}return t}const x=h({__name:"StickyLayer",props:{tag:{type:String,default:"div"},start:{type:String,default:"bottom +=100%"},end:{type:String,default:"bottom top"},opacity:{type:Boolean,default:!1},markers:{type:Boolean,default:!1}},setup(a){const o=a;p.registerPlugin(y);let t=[];const e=f(),l=f(0),s=f(0),r=f(o.start);S(()=>{e.value.style.willChange="transform",r.value==="bottom +=100%"&&m.isMobile&&(r.value="bottom +=50%"),g.pageEnter.on(i),g.resize.on(i),i()}),b(()=>{d(!1),g.pageEnter.off(i),g.resize.off(i)});const d=(n=!0)=>{t.forEach(c=>{n&&p.utils.selector(e.value),A([c,"access",u=>u.scrollTrigger,"optionalAccess",u=>u.kill,"call",u=>u(n)]),c.kill()}),t=[]},i=()=>{l.value=e.value.getBoundingClientRect().height,l.value>m.windowHeight&&(l.value*=.5),v()},v=()=>{d();const n=p.timeline({scrollTrigger:{trigger:e.value,start:r.value,end:o.end,markers:o.markers,onUpdate:c=>{e.value&&(s.value=l.value*.65*c.progress,e.value.style.transform=`translate3d(0, ${s.value}px, 0)`)}}});t.push(n)};return(n,c)=>(k(),C(B(a.tag),{ref_key:"root",ref:e},{default:_(()=>[w(n.$slots,"default")]),_:3},512))}});export{x as _};
